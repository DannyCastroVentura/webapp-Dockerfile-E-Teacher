<!doctype html>
<html lang="en" ng-app="UsersApp" ng-controller="ProfileController as profile">
<controllerTrabalho ng-controller="TrabalhosController as trabalhos">
    <controllerUsers ng-controller="SearchUsersController as searchUsers">

        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>E&#8209;Teacher</title>

            <!-- favicon -->
            <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
            <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
            <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
            <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
            <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
            <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
            <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
            <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
            <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
            <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
            <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
            <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
            <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
            <link rel="manifest" href="/manifest.json">
            <meta name="msapplication-TileColor" content="#ffffff">
            <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
            <meta name="theme-color" content="#ffffff">


            <!-- web links -->
            <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
            <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css"
                integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V"
                crossorigin="anonymous" />

            <!-- Bootstrap core CSS -->
            <link href="./assets/dist/css/bootstrap.css" rel="stylesheet">

            <style>
                a {
                    text-decoration: none;
                }

                .iconLog {
                    height: 150px;
                }

                .actionAddTd {
                    width: 20%;
                    text-align: center;
                }


                .actionTd {
                    width: 20%;
                    text-align: center;
                }


                .searchBarDiv {
                    padding-bottom: 10em;
                    display: none;
                    top: 50%;
                    width: 75%;
                    min-width: 400px;
                }

                @keyframes mandarParaCima {
                    0% {
                        top: 29%;
                        transform: translateX(-50%);
                    }

                    100% {
                        top: 15%;
                        transform: translateX(-50%);
                    }
                }


                @keyframes mandarParaBaixo {
                    0% {
                        top: 33%;
                        transform: translateX(-50%);
                    }

                    100% {
                        top: 47%;
                        transform: translateX(-50%);
                    }
                }

                .semiTitles {
                    font-size: 25px;
                }

                .semiBigTitles {
                    font-size: 30px;
                }

                .semiBigFont {
                    font-size: 20px;
                }

                .responsiveButtonNovo {
                    top: 1em;
                    right: 1em;
                }

                .w3-modal {
                    padding-top: 30px;
                }

                .responsiveButtonDebaixoDoErro {
                    margin-top: 0.5em;
                }

                @media screen and (min-width: 601px) {
                    .responsiveSmalText {
                        font-size: 25px;
                    }

                    /*footer*/
                    .responsiveVerySmalText {
                        font-size: 15px;
                    }

                    .responsiveButtonNovo {
                        font-size: 15px;
                    }

                    .responsiveMensagemDeErro {
                        font-size: 15px;
                    }


                }


                /* If the screen size is 600px wide or less, set the font-size of <div> to 30px */
                @media screen and (max-width: 600px) {


                    .actionAddTd {
                        text-align: center;
                        position: absolute;
                        right: 2em;
                        top: 0;
                    }

                    .actionButtons {
                        width: 70px;
                    }


                    .mostrarEmail {
                        display: none;
                    }

                    .iconLog {
                        height: 100px;
                    }

                    .semiBigTitles {
                        font-size: 23px;
                    }

                    .semiTitles {
                        font-size: 18px;
                    }

                    .semiBigFont {
                        font-size: 15px;
                    }

                    .searchBarDiv {
                        padding-bottom: 10em;
                        display: none;
                        top: 70%;
                        width: 75%;
                        min-width: 400px;
                    }

                    @keyframes mandarParaCima {
                        0% {
                            top: 29%;
                            transform: translateX(-50%);
                        }

                        100% {
                            top: 15%;
                            transform: translateX(-50%);
                        }
                    }


                    @keyframes mandarParaBaixo {
                        0% {
                            top: 15%;
                            transform: translateX(-50%);
                        }

                        100% {
                            top: 29%;
                            transform: translateX(-50%);
                        }
                    }

                    .responsiveSmalText {
                        font-size: 15px;
                    }

                    /*footer*/
                    .responsiveVerySmalText {
                        font-size: 9px;
                    }

                    /*botoes*/
                    .responsiveKindaSmalText {
                        font-size: 13px;
                    }

                    .responsiveButtonNovo {
                        font-size: 12px;
                    }

                    .responsiveMensagemDeErro {
                        font-size: 10px;
                    }

                    .w3-modal {
                        padding-top: 15px;
                    }

                    .display- {
                        font-size: 20px;
                    }
                }

                .removerAlunoDoTrabalho {
                    color: black;
                    text-decoration: none;
                }

                .removerAlunoDoTrabalho:hover {
                    color: red;
                    cursor: pointer;
                }


                @media screen and (min-height: 800px) {
                    .loginPaddingTop {
                        padding-top: 10em;
                    }
                }

                @media screen and (max-height: 800px) {
                    .loginPaddingTop {
                        padding-top: 20em;
                    }
                }

                @-webkit-keyframes zoom {
                    from {
                        -webkit-transform: scale(0)
                    }

                    to {
                        -webkit-transform: scale(1)
                    }
                }

                @keyframes zoom {
                    from {
                        transform: scale(0)
                    }

                    to {
                        transform: scale(1)
                    }
                }

                .aspasComeco:before {
                    content: '\275D  ';
                }

                .bd-placeholder-img {
                    font-size: 1.125rem;
                    text-anchor: middle;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    user-select: none;
                }

                @media (min-width: 768px) {
                    .bd-placeholder-img-lg {
                        font-size: 3.5rem;
                    }
                }

                html,
                body {
                    height: 100%;
                    margin: 0px;
                    padding: 0px;
                    background-color: #f5f5f5;
                }
            </style>


            <!-- Custom styles for this template -->
            <link href="./css/carousel.css" rel="stylesheet">
            <link href="./css/heroes.css" rel="stylesheet">
            <link href="./css/signin.css" rel="stylesheet">
            <link href="./css/myCss.css" rel="stylesheet">



        </head>

        <body>


            <header>
                <nav class="navbar navbar-expand-sm navbar-dark fixed-top bg-dark">
                    <div class="container-fluid" style="margin-right: 2em;margin-left: 2em;">
                        <a class="navbar-brand" href="#"><img alt="logotipo"
                                onclick="document.location.href = window.location.origin;"
                                src="./img/logo/logoWhite.png" style="height: 3em;"></a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                            aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="navbar-text">
                            <div class="collapse navbar-collapse" id="navbarCollapse">
                                <ul class="navbar-nav me-auto mb-2 mb-md-0 text-left">
                                    <li class="nav-item w3-animate-opacity" id="loginNavBar" style="display: none;">
                                        <a id="callLogin" class="nav-link navBarETeacher"
                                            onclick="callLogin();document.getElementById('nav-Teacher-tab-login').click();"
                                            class="btn btn-lg btn-primary" style="cursor: pointer;">Login</a>
                                    </li>
                                    <li class="nav-item" id="searchNavBar">
                                        <a id="callSearch" class="nav-link navBarETeacher traduzir" pt="Pesquisar"
                                            eng="Search" onclick="callSearch();" style="cursor: pointer;">Search</a>
                                    </li>

                                    <li class="nav-item dropdown" id="accountNavBar" style="display: block;">
                                        <a class="nav-link navBarETeacher dropdown-toggle traduzir active" pt="Conta"
                                            eng="Account" href="#" id="callAccount" role="button"
                                            ng-show="profile.originalEmail" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false" style="display:block;">
                                            Account
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                            <div class="rowDaNavBar">
                                                <a id="callAdmin" style="color: black; cursor: pointer;"
                                                    class="nav-link navBarETeacher traduzir" pt="Admin" eng="Admin"
                                                    onclick="callAdmin();">Admin</a>
                                            </div>
                                            <div class="dropdown-divider"></div>
                                            <div class="rowDaNavBar">
                                                <a id="callLogout" style="color: black;" onclick="logout();"
                                                    class="nav-link navBarETeacher" aria-current="page"
                                                    href="#">Logout</a>
                                            </div>
                                        </div>
                                    </li>

                                    <li class="nav-item dropdown" id="accountNavBar" style="display: block;">
                                        <a class="nav-link navBarETeacher dropdown-toggle" href="#" id="callLanguage"
                                            role="button" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false" style="display:block;">
                                            Language
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                            <div style="cursor: pointer;" id="escolherPt"
                                                class="rowDaNavBar active escolherLingua"
                                                onclick="openNavBar('escolherPt', 'escolherLingua');changeLanguage('pt');">
                                                &nbsp;<img src="./img/flags/portugal.png" height="30px" />
                                                Português
                                            </div>

                                            <div class="dropdown-divider"></div>

                                            <div style="cursor: pointer;" id="escolherEn"
                                                class="rowDaNavBar escolherLingua"
                                                onclick="openNavBar('escolherEn', 'escolherLingua');changeLanguage('en');">
                                                &nbsp;<img src="./img/flags/reino-unido.png" height="30px" />
                                                English
                                            </div>
                                        </div>
                                    </li><img id="imagemFlagIdioma" src="./img/flags/reino-unido.png"
                                        class="align-middle" style="height: 30px;width: 30px;margin: 5px 1em;" />
                                </ul>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>
            <div loading> </div>
            <!-- notifications -->
            <div id="notification"><i class="fa fa-info-circle"></i>&nbsp;<span id="notificationText">Project
                    successfully
                    updated!</span></div>
            <div id="searchPage" class="h-100 text-center mainPage"
                style="margin-bottom: 0;background-color: #f5f5f5; display:none">
                <div class="h-100 row featurette w3-animate-opacity ">
                    <!-- searchbar -->
                    <div id="search" class="container h-100">
                        <div id="searchBar" class="mandarParaBaixo" style="width: 100%;">
                            <img class="mb-4 iconLog" src="./img/logo/logoGrey.png" alt="logo do site">
                            <h1 class="h3 mb-3 fw-normal traduzir" pt="Pesquisar" eng="Search">Search</h1>
                            <div class="container">
                                <form class="d-flex justify-content-center" autocomplete="off">
                                    <input required onkeyUp="mandarSearchParaCima();mandarSearchParaBaixo();"
                                        onfocus="focusSearchBar();" ng-model="search"
                                        style="width:50%; min-width: 200px;" class="form-control me-2" type="search"
                                        placeholder="Search" id="searchBarInput" aria-label="Search" minlength="3">
                                    <button class="btn btn-primary w3-animate-right" id="searchButton" type="submit"
                                        onclick="" style="width: 5%; min-width: 5em;display: none;"><i
                                            class="fas fa-search"></i></button>
                                </form>
                            </div>
                            <div>
                            </div>

                        </div>
                        <div class="w3-animate-bottom container searchBarDiv" id="resultDoSearch">
                            <div ng-repeat="user in searchUsers.users | filter : search as searchFilter">
                                <a href="#"
                                    ng-click="profile.searchProfile(user.email);trabalhos.trabalhosSearch(user.email);"
                                    onclick="searchProfessor();" class="list-group-item list-group-item-action">
                                    <div style="height: 5em;">
                                        <div style="position: absolute; left: 0px;top:0px;">
                                            <img ng-src="{{user.fotoPerfil}}" alt="Profile Picture"
                                                style="height: 6em; width: 5em; border: 1px solid;object-fit: cover;" />
                                            &nbsp; {{ user.nome }}
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div ng-if="searchFilter.length == 0">
                                <div href="#" class="list-group-item">
                                    <div style="height: 5em;">
                                        <div
                                            style="position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);">
                                            <span class="traduzir" pt="Utilizador não encontrado!"
                                                eng="User not found!">User not found!
                                                </i></span>&nbsp;&nbsp;<i class="fas fa-exclamation-triangle"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- profilePage -->
            <div id="profilePage" class="mainPage" style="background-color: #f5f5f5; display:none;">
                <div class="container w3-animate-opacity" style="margin-top: 5em;margin-bottom: 5em;">
                    <div class="row featurette" style="margin-bottom: 7em;">
                        <div>
                            <div ng-repeat="user in profile.profileForEmail" ng-if="profile.existe">


                                <div id="infoProfile" class="w3-modal modal">
                                    <div class="w3-animate-zoom form-signin text-center modal-content"
                                        style="width: 90%; max-width:700px; min-height:auto; background-color: #f5f5f5;padding:0px; ">

                                        <div class="w3-center"><br>
                                            <span onclick="closeInfo();" id="closeInfoPerfil"
                                                class="w3-button w3-xlarge w3-transparent w3-display-topright"
                                                title="Close Modal">×</span>
                                        </div>

                                        <div id="infoOrientacao" class="infoProfile"
                                            style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                            <div style="min-width: 200px;">
                                                <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Orientação:"
                                                    eng="Orientation:">
                                                    Orientation:</h1><br />
                                                <div style="border: 1px solid black;">
                                                    <table class="table table-hover " style="margin-bottom: 0px;">
                                                        <tbody>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Aluno" eng="Student">Student
                                                                </th>
                                                                <td id="infoOrientationStudent"
                                                                    class="bg-white text-dark">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Nome do curso" eng="Course name">Course name
                                                                </th>
                                                                <td id="infoOrientationCourseName"
                                                                    class="bg-white text-dark"></td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Título" eng="Title">Title</th>
                                                                <td id="infoOrientationTitle"
                                                                    class="bg-white text-dark">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Tema" eng="Theme">Theme</th>
                                                                <td id="infoOrientationTheme"
                                                                    class="bg-white text-dark">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Link do relatório" eng="Report link">Report
                                                                    link
                                                                </th>
                                                                <td class="bg-white text-dark"><a
                                                                        id="infoOrientationReport" target="_blank"
                                                                        href="www.link.com">Report</a></td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Mais informação aqui" eng="More info here">
                                                                    More
                                                                    info here</th>
                                                                <td class="bg-white text-dark"><a
                                                                        id="infoOrientationLink" target="_blank"
                                                                        href="www.link.com" class="traduzir" pt="Site"
                                                                        eng="Website">Website</a></td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Instituição" eng="Institution">
                                                                    Institution</th>
                                                                <td id="infoOrientationInstitution"
                                                                    class="bg-white text-dark"></td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row" class="traduzir bg-dark text-light"
                                                                    pt="Duração" eng="Duration">
                                                                    Duration
                                                                </th>
                                                                <td id="infoOrientationDuration"
                                                                    class="bg-white text-dark">
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>


                                            </div>
                                        </div>

                                    </div>
                                </div>


                                <!-- foto de perfil e foto de fundo -->
                                <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"
                                    style="height: 252px;">
                                    <div class="containerFotoPerfil position-relative">
                                        <img class="bd-placeholder-img fotoPerfil"
                                            style="border: 10px solid #212529;object-fit: cover;"
                                            ng-src="{{profile.fotoPerfil}}" id="fotoPerfilOriginal"
                                            alt="Profile Picture">
                                        <div class="overFotoZoom">
                                            <!-- butoes para alterar ou ver foto de perfil -->
                                            <button class="w-100 btn btn-lg btn-secondary traduzir" pt="Ver" eng="View"
                                                onclick="fotoZoom('perfil');" id="zoomFotoPerfil">View</button><br>
                                        </div>
                                    </div>
                                    <div class="containerFotoFundo col d-flex flex-column position-static">
                                        <img class="bd-placeholder-img fotoFundo"
                                            style="border: 0.5px solid #212529;width: 100%;height: 100%;object-fit: cover;"
                                            ng-src="{{profile.fotoFundo}}" id="fotoFundoOriginal"
                                            alt="Background Photo">
                                        <div class="overFotoZoom " style="margin-left: 100px;">
                                            <!-- butoes para alterar ou ver foto de fundo -->
                                            <button class="w-100 btn btn-lg btn-secondary traduzir" pt="Ver" eng="View"
                                                onclick="fotoZoom('fundo');" id="zoomFotoPerfil">View</button><br>
                                        </div>
                                    </div>
                                </div>


                                <!-- Foto zoom -->
                                <div id="fotoZoom" class="modalFotoZoom">
                                    <div>
                                        <span class="closeImageZoom"
                                            onclick="document.getElementById('fotoZoom').style.display = 'none';">&times;</span>
                                        <img class="modal-content-fotoZoom" id="fotoZoomed">
                                        <div id="caption-fotoZoom"></div>
                                    </div>
                                </div>

                                <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark position-relative">
                                    <div class="col-md-12 px-0">
                                        <strong class="mb-2" ng-style="{color:profile.areaCor};"
                                            ng-if="profile.areaNome != 'None' && profile.areaNome != 'Vazio'">{{
                                            profile.areaNome }}</strong>
                                        <h2 class="display-4"> {{ profile.nome }} <div class="responsiveSmalText">{{
                                                user.email }}</div>
                                        </h2>
                                        <div ng-if="profile.years" class="mb-1 fst-italic">{{ profile.years }} <span
                                                class="traduzir" pt="anos de experiência"
                                                eng="years of experience">years of
                                                experience</span></div>
                                        <h6 ng-if="profile.resumo" style="margin-top: 1em;" class="lead"><b
                                                class="traduzir" pt="Breve resumo" eng="Brief summary">Brief summary</b>
                                        </h6>
                                        <p ng-if="profile.resumo" class="lead my-2 mb-auto"
                                            style="white-space: pre-wrap;">
                                            {{
                                            profile.resumo }}</p>
                                    </div>
                                </div>

                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <button class="nav-link active traduzir responsiveKindaSmalText" pt="Ensino"
                                            eng="Teaching" id="Teaching-tab" data-toggle="tab" href="#Teaching"
                                            role="tab" aria-controls="Teaching" aria-selected="true">Teaching</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link traduzir responsiveKindaSmalText" pt="Orientações"
                                            eng="Orientation" id="Orientation-tab" data-toggle="tab" href="#Orientation"
                                            role="tab" aria-controls="Orientation"
                                            aria-selected="false">Orientation</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link traduzir responsiveKindaSmalText"
                                            pt="Projetos de pesquisa" eng="Research projects" id="Research-projects-tab"
                                            data-toggle="tab" href="#Research-projects" role="tab"
                                            aria-controls="Research-projects" aria-selected="false">Research
                                            projects</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link traduzir responsiveKindaSmalText"
                                            pt="Projetos final de curso" eng="End-of-course projects"
                                            id="End-of-course-projects-tab" data-toggle="tab"
                                            href="#End-of-course-projects" role="tab"
                                            aria-controls="End-of-course-projects" aria-selected="false">End-of-course
                                            projects</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link traduzir responsiveKindaSmalText" pt="Alunos"
                                            eng="Students" id="Students-tab" data-toggle="tab" href="#Students"
                                            role="tab" aria-controls="Students" aria-selected="false">Students</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link traduzir responsiveKindaSmalText" pt="Recursos digitais"
                                            eng="Digital resources" id="recursosDigitais-tab" data-toggle="tab"
                                            href="#recursosDigitais" role="tab" aria-controls="recursosDigitais"
                                            aria-selected="false">Digital resources</button>
                                    </li>
                                </ul>
                                <div class="tab-content" id="myTabContent">
                                    <!--Digital resources -->
                                    <div class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                        style="background-color: white;" id="recursosDigitais" role="tabpanel"
                                        aria-labelledby="recursosDigitais-tab">
                                        <div class="col-md-12 p-4 d-flex flex-column position-static">
                                            <div ng-if="profile.recursosDigitais.length > 0"
                                                style="position: relative;">
                                                <div>
                                                    <table class="table table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class=" traduzir " pt="Descrição"
                                                                    eng="Description">
                                                                    Description</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="rs in profile.recursosDigitais">
                                                                <td scope="row"
                                                                    onclick="openNewTab(this.getAttribute('link'));"
                                                                    link="{{ rs.url }}" class="link-primary"
                                                                    style="cursor: pointer;">{{ rs.descricao }}
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <span ng-if="profile.recursosDigitais.length === 0"
                                                class="text-muted traduzir p-4"
                                                pt="Professor sem recursos digitais disponíveis de momento"
                                                eng="Teacher with no available digital resources at the moment">Teacher
                                                with no available
                                                digital resources at the moment</span>
                                        </div>

                                    </div>

                                    <!--DISCIPLINAS DADAS PELOS PROFESSORES -->
                                    <div class="show active tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                        style="background-color: white;" id="Teaching" role="tabpanel"
                                        aria-labelledby="Teaching-tab">
                                        <div class="col-md-12 p-5 d-flex flex-column position-static">

                                            <div ng-if="profile.instituicoesAtuais.length > 0">

                                                <h3 class="display-6 traduzir semiTitles" pt="Atualmente ensinando:"
                                                    eng="Currently teaching:">
                                                    Currently teaching:</h3>
                                                <hr>
                                                <div class="row " ng-repeat="instituicao in profile.instituicoesAtuais">
                                                    <h4 class="display-6 semiBigTitles" style="padding-top: 1em;"
                                                        ng-style="$first && {'padding-top': '0.2em'}">{{
                                                        instituicao.sigla }} - {{
                                                        instituicao.nome }}</h4>
                                                    <div class="col-md-6" ng-if="instituicao.semestre1"
                                                        ng-class="{'col-md-12':instituicao.semestre2 == false}">
                                                        <h5 style="padding-top: 0.5em;"
                                                            class="display-6 traduzir semiBigFont"
                                                            pt="Primeiro semestre" eng="First semester">First semester
                                                        </h5>
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" class=" traduzir" pt="Nome"
                                                                        eng="Name">
                                                                        Name</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="disciplinas in instituicao.disciplinas"
                                                                    ng-if="disciplinas.semestre == 1">
                                                                    <td scope="row">{{ disciplinas.sigla }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                    <div class="col-md-6" ng-if="instituicao.semestre2"
                                                        ng-class="{'col-md-12':instituicao.semestre1 == false}">
                                                        <h5 style="padding-top: 0.5em;"
                                                            class="display-6 traduzir semiBigFont" pt="Segundo semestre"
                                                            eng="Second semester">Second semester</h5>
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" class=" traduzir" pt="Nome"
                                                                        eng="Name">
                                                                        Name</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="disciplinas in instituicao.disciplinas"
                                                                    ng-if="disciplinas.semestre == 2">
                                                                    <td scope="row">{{ disciplinas.sigla }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </div>
                                            <h3 style="padding-top: 2em;" class="display-6 traduzir semiTitles"
                                                pt="Histórico de ensino:" eng="All-time teaching:"
                                                ng-if="profile.instituicoesAtuais.length > 0">All-time teaching:
                                            </h3>
                                            <hr ng-if="profile.instituicoesAtuais.length > 0" />
                                            <h3 ng-if="profile.instituicoesAtuais.length === 0 && profile.instituicoesHistorico.length > 0"
                                                class="display-6 traduzir semiTitles" pt="Histórico de ensino:"
                                                eng="All-time teaching:">
                                                All-time
                                                teaching:
                                            </h3>
                                            <hr
                                                ng-if="profile.instituicoesAtuais.length === 0 && profile.instituicoesHistorico.length > 0" />
                                            <span ng-if="profile.instituicoesHistorico.length === 0"
                                                class="text-muted traduzir"
                                                pt="Professor sem histórico de disciplinas lecionadas" eng="Teacher with no
                    history of taught subjects">Teacher with no history of taught subjects</span>

                                            <div class="row"
                                                ng-repeat="instituicaoHistorico in profile.instituicoesHistorico">
                                                <h4 style="padding-top: 1em;" class="display-6 semiBigTitles"
                                                    ng-style="$first && {'padding-top': '0.2em'}">{{
                                                    instituicaoHistorico.sigla
                                                    }} - {{ instituicaoHistorico.nome }}</h4>
                                                <div class="col-md-12" style="padding-top: 0.5em;">
                                                    <table class="table table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col" class=" traduzir" pt="Nome" eng="Name">
                                                                    Name</th>
                                                                <th scope="col" class=" traduzir" pt="Nome completo"
                                                                    eng="Full name">Full name</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr
                                                                ng-repeat="disciplinas in instituicaoHistorico.disciplinas">
                                                                <td scope="row">{{ disciplinas.sigla }}</td>
                                                                <td scope="row">{{ disciplinas.nome }}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <!-- PROJETOS DE PESQUISA -->
                                    <div id="Research-projects" role="tabpanel" aria-labelledby="Research-projects-tab"
                                        class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative text-light"
                                        style="background-color: white;"
                                        ng-style="profile.permissions == 3 && trabalhos.trabalhosDePesquisaForProfessorAtuais.length != 0 && trabalhos.trabalhosDePesquisaForProfessorHistorico.length != 0 && {'padding-top': '2em'}">
                                        <!-- projects of a teacher CURRENTLY -->
                                        <div class="col-md-12"
                                            style="padding-left: 2.5em;padding-top: 2.5em;padding-right: 2.5em;"
                                            ng-if="trabalhos.trabalhosDePesquisaForProfessorAtuais.length > 0">
                                            <h3 class="display-6 traduzir semiTitles" style="color: #495057;"
                                                pt="Atualmente pesquisando:" eng="Currently researching:">Currently
                                                researching:</h3>
                                            <hr style="color: #6c757d;">
                                        </div>
                                        <div class="col p-4 d-flex flex-column position-static"
                                            ng-if="trabalhos.trabalhosDePesquisaForProfessorAtuais.length > 0"
                                            style="padding-left: 2.5em !important; padding-right: 2.5em !important; padding-top: 0px !important;">
                                            <div
                                                ng-repeat="allTrabalhos in trabalhos.trabalhosDePesquisaForProfessorAtuais track by allTrabalhos.id">
                                                <div
                                                    class="row g-0 border rounded-left overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative text-dark">
                                                    <div class="col p-4 d-flex flex-column position-relative"
                                                        style="background-color: #f5f5f5; ">

                                                        <h3 class="mb-0">{{ allTrabalhos.titulo }} - {{
                                                            allTrabalhos.sigla }}</h3>
                                                        <div class="mb-1 text-muted">{{ allTrabalhos.ano }}</div>
                                                        <p><span class="traduzir" pt="Financiador: "
                                                                eng="Financier: ">Financier: </span>{{
                                                            allTrabalhos.financiador }}<br><span class="traduzir"
                                                                pt="Investigador principal: "
                                                                eng="Principal investigator: ">Principal investigator:
                                                            </span>{{
                                                            allTrabalhos.investigadorPrincipal }}
                                                        </p>
                                                        <p class="card-text mb-auto" ng-if="allTrabalhos.resumo"
                                                            style="white-space: pre-wrap;padding-bottom: 1em;">{{
                                                            allTrabalhos.resumo }}</p>
                                                        <p ng-if="allTrabalhos.link">
                                                            <span style="width: 100%;">
                                                                <span class="traduzir" pt="Mais informações "
                                                                    eng="More info ">More info </span><a
                                                                    ng-href="{{allTrabalhos.link}}" class="traduzir"
                                                                    pt="aqui!" eng="here!" role="button"
                                                                    target="_blank">here!</a>
                                                            </span>
                                                        </p>
                                                        <span ng-if="allTrabalhos.dataInicio && allTrabalhos.dataFim">
                                                            <em>{{allTrabalhos.dataInicio}} -
                                                                {{allTrabalhos.dataFim}}</em>
                                                        </span>
                                                    </div>

                                                    <div class="col-auto d-none d-lg-block">
                                                        <img ng-src="{{allTrabalhos.imagem}}"
                                                            style="border: 1px solid grey;object-fit: cover; height: 100%;"
                                                            class="bd-placeholder-img" width="200"
                                                            alt="Project picture">
                                                    </div>

                                                </div>

                                            </div>
                                        </div>

                                        <!-- projects of a teacher COMPLETED -->
                                        <div class="col-md-12"
                                            style="padding-left: 2.5em;padding-top: 2.5em;padding-right: 2.5em;"
                                            ng-if="trabalhos.trabalhosDePesquisaForProfessorHistorico.length > 0">
                                            <h3 class="display-6 traduzir semiTitles" pt="Pesquisas concluídas:"
                                                eng="Completed researches" style="color: black;">Completed researches:
                                            </h3>
                                            <hr style="color: #6c757d;">
                                        </div>
                                        <div class="col p-4 d-flex flex-column position-static"
                                            ng-if="trabalhos.trabalhosDePesquisaForProfessorHistorico.length > 0"
                                            style="padding-left: 2.5em !important; padding-right: 2.5em !important; padding-top: 0px !important;">
                                            <div
                                                ng-repeat="allTrabalhos in trabalhos.trabalhosDePesquisaForProfessorHistorico track by allTrabalhos.id">
                                                <div
                                                    class="row g-0 border rounded-left overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative text-dark">
                                                    <div class="col p-4 d-flex flex-column position-relative"
                                                        style="background-color: #f5f5f5; ">

                                                        <h3 class="mb-0">{{ allTrabalhos.titulo }} - {{
                                                            allTrabalhos.sigla }}</h3>
                                                        <div class="mb-1 text-muted">{{ allTrabalhos.ano }}</div>
                                                        <p><span class="traduzir" pt="Financiador: "
                                                                eng="Financier: ">Financier: </span>{{
                                                            allTrabalhos.financiador }}<br><span class="traduzir"
                                                                pt="Investigador principal: "
                                                                eng="Principal investigator: ">Principal investigator:
                                                            </span>{{
                                                            allTrabalhos.investigadorPrincipal }}
                                                        </p>
                                                        <p class="card-text mb-auto" ng-if="allTrabalhos.resumo"
                                                            style="white-space: pre-wrap;padding-bottom: 1em;">{{
                                                            allTrabalhos.resumo }}</p>
                                                        <p ng-if="allTrabalhos.link">
                                                            <span style="width: 100%;">
                                                                <span class="traduzir" pt="Mais informações "
                                                                    eng="More info ">More info </span><a
                                                                    ng-href="{{allTrabalhos.link}}" role="button"
                                                                    class="traduzir" pt="aqui!" eng="here!"
                                                                    target="_blank">here!</a>
                                                            </span>
                                                        </p>
                                                        <span ng-if="allTrabalhos.dataInicio && allTrabalhos.dataFim">
                                                            <em>{{allTrabalhos.dataInicio}} -
                                                                {{allTrabalhos.dataFim}}</em>
                                                        </span>
                                                    </div>

                                                    <div class="col-auto d-none d-lg-block">
                                                        <img ng-src="{{allTrabalhos.imagem}}"
                                                            style="border: 1px solid grey;object-fit: cover; height: 100%;"
                                                            class="bd-placeholder-img" width="200"
                                                            alt="Project picture">
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col p-4 d-flex flex-column position-static"
                                            ng-if="trabalhos.trabalhosDePesquisaForProfessorAtuais.length === 0 && trabalhos.trabalhosDePesquisaForProfessorHistorico.length === 0">
                                            <span class="p-4 text-muted traduzir"
                                                pt="Professor sem histórico de projetos de pesquisa"
                                                eng="Teacher with no history of research projects">Teacher with no
                                                history of research
                                                projects</span>
                                        </div>
                                    </div>




                                    <!-- PROJETOS FINAIS DE CURSO -->
                                    <div id="End-of-course-projects" role="tabpanel"
                                        aria-labelledby="End-of-course-projects-tab"
                                        class="tab-pane fade  row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative text-light"
                                        style="background-color: white;"
                                        ng-style="profile.permissions == 3 && trabalhos.trabalhosForProfessor.length != 0 && {'padding-top': '2em'}">
                                        <!-- projects of a teacher -->
                                        <div class="col p-4 d-flex flex-column position-static"
                                            style="padding-left: 2.5em !important; padding-right: 2.5em !important;">
                                            <div style="padding-top: 1em;"
                                                ng-repeat="allTrabalhos in trabalhos.trabalhosForProfessor track by allTrabalhos.idTrabalho"
                                                ng-hide="allTrabalhos.podeAlterar != true && allTrabalhos.versao2 == 't'">
                                                <div
                                                    class="row g-0 border rounded-left overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative text-dark">
                                                    <div class="col p-4 d-flex flex-column position-relative"
                                                        ng-style="allTrabalhos.versao2 == 't' && {'background-color': '#ffc107'} || {'background-color': '#f5f5f5'}"
                                                        style="background-color: #f5f5f5; ">

                                                        <!-- nota do trabalho -->
                                                        <div ng-if="allTrabalhos.nota != 0 && allTrabalhos.nota != ''"
                                                            style="position: absolute;bottom:1em;right: 1em;">

                                                            <div ng-if="allTrabalhos.nota >= 18.00"
                                                                style="border: 1px solid #DAA520; border-radius: 8px; color: #DAA520; padding: 5px;background-color: white;">
                                                                <span class="traduzir" pt="Nota: " eng="Note: ">Note:
                                                                </span>{{allTrabalhos.nota |
                                                                number
                                                                : 2 }} V
                                                            </div>
                                                            <div ng-if="allTrabalhos.nota >= 10.00 && allTrabalhos.nota < 18.00"
                                                                style="border: 1px solid #808080; border-radius: 8px; color: #808080; padding: 5px;background-color: white;">
                                                                <span class="traduzir" pt="Nota: " eng="Note: ">Note:
                                                                </span>{{allTrabalhos.nota |
                                                                number
                                                                : 2 }} V
                                                            </div>
                                                            <div ng-if="allTrabalhos.nota < 10.00"
                                                                style="border: 1px solid #ed2939; border-radius: 8px; color: #ed2939; padding: 5px;background-color: white;">
                                                                <span class="traduzir" pt="Nota: " eng="Note: ">Note:
                                                                </span>{{allTrabalhos.nota |
                                                                number
                                                                : 2 }} V
                                                            </div>

                                                        </div>


                                                        <strong class="d-inline-block mb-2 text" style="color: black">{{
                                                            allTrabalhos.idTrabalho
                                                            }}</strong>
                                                        <h3 class="mb-0">{{ allTrabalhos.nome }}</h3>
                                                        <div class="mb-1 text-muted">{{ allTrabalhos.ano }}</div>
                                                        <p class="card-text mb-auto" style="white-space: pre-wrap;">{{
                                                            allTrabalhos.resumo }}</p>
                                                        <p><span class="traduzir" pt="Por:" eng="By">By:</span><span
                                                                ng-repeat="alunoDoGrupo in allTrabalhos.alunos">
                                                                <!-- se não tiver 3 de permissoes -->
                                                                <span ng-if="profile.permissions != 3">{{
                                                                    alunoDoGrupo.nome }}.</span>
                                                            </span>

                                                            <span ng-if="allTrabalhos.informacao"
                                                                class="text-muted"><br><br>
                                                                <span class="traduzir" pt="Informações adicionais: "
                                                                    eng="Additional information: ">Additional
                                                                    information: </span>
                                                                {{allTrabalhos.informacao}}
                                                            </span>
                                                        </p>
                                                        <p style="width: 100%;">
                                                            <span ng-if="allTrabalhos.codigo">
                                                                <a href="{{allTrabalhos.codigo}}" target="_blank"
                                                                    role="button" class="traduzir" pt="Ver código"
                                                                    eng="See code">
                                                                    See code
                                                                </a>&nbsp;
                                                            </span>
                                                            <span ng-if="allTrabalhos.relatorio">
                                                                <a href="{{allTrabalhos.relatorio}}" target="_blank"
                                                                    role="button" class="traduzir" pt="Ver relatório"
                                                                    eng="See report">
                                                                    See report
                                                                </a>&nbsp;
                                                            </span>
                                                        </p>
                                                    </div>

                                                    <div class="col-auto d-none d-lg-block">
                                                        <img ng-src="{{allTrabalhos.imagem}}"
                                                            style="border: 1px solid grey;object-fit: cover; height: 100%;"
                                                            class="bd-placeholder-img" width="200"
                                                            alt="Project picture">

                                                    </div>
                                                </div>

                                            </div>
                                            <span ng-if="trabalhos.trabalhosForProfessor.length === 0"
                                                class="p-4 text-muted traduzir"
                                                pt="Professor sem histórico de projetos fim de curso"
                                                eng="Teacher with no history of End-of-course projects">Teacher with no
                                                history of End-of-course projects</span>
                                        </div>
                                    </div>
                                    <!-- students for a teacher -->
                                    <div class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                        ng-style="profile.permissions == 3 && profile.alunos.length != 0 && {'padding-top': '2em'}"
                                        style="background-color: white;" id="Students" role="tabpanel"
                                        aria-labelledby="Students-tab">
                                        <div class="col p-4 d-flex flex-column position-static">
                                            <table class="table table-hover" ng-if="profile.alunos.length > 0">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">#</th>
                                                        <th scope="col" class=" traduzir" pt="Nome" eng="Name">Name</th>
                                                        <!-- <th scope="col">Email</th> -->
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="aluno in profile.alunos">
                                                        <th scope="row">{{ aluno.numero }}</th>
                                                        <td>{{ aluno.nome }}</td>
                                                        <!-- <td>{{ aluno.email }}</td> -->

                                                    </tr>
                                                </tbody>

                                            </table>
                                            <span ng-if="profile.alunos.length === 0" class="p-4 text-muted traduzir"
                                                pt="Professor sem histórico de alunos"
                                                eng="Teacher with no history of students">Teacher with no
                                                history of
                                                students</span>

                                        </div>
                                    </div>
                                    <!-- ORIENTACAO -->
                                    <div class="show tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                        style="background-color: white;" id="Orientation" role="tabpanel"
                                        aria-labelledby="Orientation-tab">
                                        <div class="col-md-12 p-5 d-flex flex-column position-static">
                                            <div ng-if="profile.orientacoesAtuais.length > 0">
                                                <h3 class="display-6 traduzir semiTitles" pt="Atualmente orientando:"
                                                    eng="Currently orienting: ">
                                                    Currently orienting: </h3>
                                                <hr>
                                                <div class="row " ng-repeat="instituicao in profile.orientacoesAtuais">
                                                    <h4 class="display-6 semiBigTitles" style="padding-top: 1em;"
                                                        ng-style="$first && {'padding-top': '0.2em'}">{{
                                                        instituicao.Sigla }} - {{
                                                        instituicao.nome }}</h4>
                                                    <div class="col-md-6" ng-if="instituicao.mestre"
                                                        ng-class="{'col-md-12':instituicao.doutor == false}">
                                                        <h5 style="padding-top: 0.5em;"
                                                            class="display-6 semiBigFont traduzir" pt="Mestrado"
                                                            eng="Master's degree">Master's degree</h5>
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" class=" traduzir" pt="Nome"
                                                                        eng="Name">
                                                                        Name</th>
                                                                    <th scope="col" class=" traduzir" pt="Ano de início"
                                                                        eng="Start year">Start year</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr id="orientacoesMostrarTR{{orientacoes.id}}"
                                                                    student="{{orientacoes.alunoNome}} - {{orientacoes.alunoEmail}} - {{orientacoes.alunoNumero}}"
                                                                    title="Master's degree"
                                                                    dataInicio="{{orientacoes.dataInicio}}"
                                                                    dataFim="at the moment"
                                                                    institution="{{instituicao.Sigla}} - {{instituicao.nome}}"
                                                                    nomeCurso="{{orientacoes.nomeCurso}}"
                                                                    tema="{{orientacoes.tema}}"
                                                                    relatorio="{{orientacoes.relatorio}}"
                                                                    link="{{orientacoes.link}}"
                                                                    ng-repeat="orientacoes in instituicao.Orientacoes"
                                                                    ng-if="orientacoes.titulo == 't'">
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.alunoNome }}</td>
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.dataInicio }}</td>

                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class=" col-md-6" ng-if="instituicao.doutor"
                                                        ng-class="{'col-md-12':instituicao.mestre == false}">
                                                        <h5 style="padding-top: 0.5em;"
                                                            class="display-6 traduzir semiBigFont" pt="Doutoramento"
                                                            eng="Doctorate's degree">Doctorate's degree
                                                        </h5>
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" class=" traduzir" pt="Nome"
                                                                        eng="Name">
                                                                        Name</th>
                                                                    <th scope="col" class=" traduzir" pt="Ano de início"
                                                                        eng="Start year">Start year</th>

                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr id="orientacoesMostrarTR{{orientacoes.id}}"
                                                                    student="{{orientacoes.alunoNome}} - {{orientacoes.alunoEmail}} - {{orientacoes.alunoNumero}}"
                                                                    title="Doctorate's degree"
                                                                    dataInicio="{{orientacoes.dataInicio}}"
                                                                    nomeCurso="{{orientacoes.nomeCurso}}"
                                                                    tema="{{orientacoes.tema}}"
                                                                    relatorio="{{orientacoes.relatorio}}"
                                                                    link="{{orientacoes.link}}" dataFim="at the moment"
                                                                    institution="{{instituicao.Sigla}} - {{instituicao.nome}}"
                                                                    ng-repeat="orientacoes in instituicao.Orientacoes"
                                                                    ng-if="orientacoes.titulo == 'f'">
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.alunoNome }}</td>
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.dataInicio }}</td>

                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </div>
                                            <h3 style="padding-top: 3em;" class="display-6 traduzir semiTitles"
                                                pt="Orientações completadas: " eng="Completed orientations: "
                                                ng-if="profile.orientacoesAtuais.length > 0 && profile.orientacoesHistorico.length > 0">
                                                Completed
                                                orientations:

                                            </h3>
                                            <hr
                                                ng-if="profile.orientacoesAtuais.length > 0 && profile.orientacoesHistorico.length > 0">
                                            <h3 ng-if="profile.orientacoesAtuais.length === 0 && profile.orientacoesHistorico.length > 0"
                                                class="display-6 traduzir semiTitles" pt="Orientações completadas: "
                                                eng="Completed orientations: ">Previous orientations

                                            </h3>
                                            <hr
                                                ng-if="profile.orientacoesAtuais.length === 0 && profile.orientacoesHistorico.length > 0">
                                            <span
                                                ng-if="profile.orientacoesAtuais.length === 0 && profile.orientacoesHistorico.length === 0"
                                                class="text-muted traduzir"
                                                pt="Professor sem histórico de alunos orientados "
                                                eng="Teacher with no history of student orientations">Teacher with no
                                                history of student
                                                orientations</span>
                                            <div ng-if="profile.orientacoesHistorico.length > 0">
                                                <div class="row"
                                                    ng-repeat="instituicao in profile.orientacoesHistorico">
                                                    <h4 style="padding-top: 1em;" class="display-6 semiBigTitles"
                                                        ng-style="$first && {'padding-top': '0.2em'}">{{
                                                        instituicao.Sigla
                                                        }} - {{ instituicao.nome }}</h4>

                                                    <div class="col-md-6" ng-if="instituicao.mestre"
                                                        ng-class="{'col-md-12':instituicao.doutor == false}">
                                                        <h5 style="padding-top: 0.5em;"
                                                            class="display-6 semiBigFont traduzir" pt="Mestrado"
                                                            eng="Master's degree">Master's degree</h5>
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" class=" traduzir" pt="Nome"
                                                                        eng="Name">
                                                                        Name</th>
                                                                    <th scope="col" class=" traduzir"
                                                                        pt="Ano de início " eng="Start year ">Start year
                                                                    </th>
                                                                    <th scope="col" class=" traduzir" pt="Ano do fim"
                                                                        eng="End year ">End year</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr id="orientacoesMostrarTR{{orientacoes.id}}"
                                                                    student="{{orientacoes.alunoNome}} - {{orientacoes.alunoEmail}} - {{orientacoes.alunoNumero}}"
                                                                    title="Master's degree"
                                                                    dataInicio="{{orientacoes.dataInicio}}"
                                                                    nomeCurso="{{orientacoes.nomeCurso}}"
                                                                    tema="{{orientacoes.tema}}"
                                                                    relatorio="{{orientacoes.relatorio}}"
                                                                    link="{{orientacoes.link}}"
                                                                    dataFim="{{orientacoes.dataFim}}"
                                                                    institution="{{instituicao.Sigla}} - {{instituicao.nome}}"
                                                                    ng-repeat="orientacoes in instituicao.Orientacoes"
                                                                    ng-if="orientacoes.titulo == 't'">
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.alunoNome }}</td>
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.dataInicio }}</td>
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.dataFim }}</td>

                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>


                                                    <div class="col-md-6" ng-if="instituicao.doutor"
                                                        ng-class="{'col-md-12':instituicao.mestre == false}">
                                                        <h5 style="padding-top: 0.5em;"
                                                            class="display-6 traduzir semiBigFont" pt="Doutoramento"
                                                            eng="Doctorate's degree">Doctorate's degree</h5>
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" class=" traduzir" pt="Nome"
                                                                        eng="Name">
                                                                        Name</th>
                                                                    <th scope="col" class=" traduzir" pt="Ano de início"
                                                                        eng="Start year">Start year</th>
                                                                    <th scope="col" class=" traduzir" pt="Ano do fim"
                                                                        eng="End year">End year</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr id="orientacoesMostrarTR{{orientacoes.id}}"
                                                                    student="{{orientacoes.alunoNome}} - {{orientacoes.alunoEmail}} - {{orientacoes.alunoNumero}}"
                                                                    title="Doctorate's degree"
                                                                    dataInicio="{{orientacoes.dataInicio}}"
                                                                    nomeCurso="{{orientacoes.nomeCurso}}"
                                                                    tema="{{orientacoes.tema}}"
                                                                    relatorio="{{orientacoes.relatorio}}"
                                                                    link="{{orientacoes.link}}"
                                                                    dataFim="{{orientacoes.dataFim}}"
                                                                    institution="{{instituicao.Sigla}} - {{instituicao.nome}}"
                                                                    ng-repeat="orientacoes in instituicao.Orientacoes"
                                                                    ng-if="orientacoes.titulo == 'f'">
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.alunoNome }}</td>
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.dataInicio }}</td>
                                                                    <td scope="row" style='cursor: pointer;'
                                                                        orientacoesId="{{orientacoes.id}}"
                                                                        onclick="openInfoOrientacoes(this);">{{
                                                                        orientacoes.dataFim }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="profile.existe == false" class="d-flex justify-content-center">
                                <div>
                                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)"
                                        class="alert alert-danger traduzir"
                                        pt="Não existe nenhum professor com este email!"
                                        eng="There is no teacher with this email!" role="alert">
                                        There is no teacher with this email!
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    &nbsp;
                </div>

            </div>

            <div id="adminPage" class="mainPage" style="background-color: #f5f5f5; display:block;">
                <div class="container w3-animate-opacity" style="margin-top: 5em;margin-bottom: 5em;">




                    <div id="alterarAdmin" class="w3-modal modal">
                        <div class="w3-animate-zoom form-signin text-center modal-content"
                            style="width: 90%; max-width:600px; min-height:auto; background-color: #f5f5f5;">

                            <div class="w3-center"><br>
                                <span onclick="closeAlterar();" id="closeAlterarPerfil"
                                    class="w3-button w3-xlarge w3-transparent w3-display-topright"
                                    title="Close Modal">×</span>
                            </div>

                            <div id="registarTeacher" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Registar professor"
                                            eng="Sign in teacher">
                                            Sign in teacher</h1><br />
                                        <form onsubmit="signInTeacher();">
                                            <div class="form-floating" style="margin-bottom: 1px;">
                                                <input type="email" class="form-control" id="emailSigninTeacher"
                                                    placeholder="name@example.com" required>
                                                <label for="emailSigninTeacher" class="traduzir" pt="Endereço de email"
                                                    eng="Email address">Email
                                                    address</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameSigninTeacher"
                                                    placeholder="name" required>
                                                <label for="nameSigninTeacher" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                    class="form-control traduzirTitle" id="passwordSigninTeacher"
                                                    style="margin-bottom: 0px;" placeholder="Password" required>
                                                <label for="passwordSigninTeacher" class="traduzir" pt="Palavra-passe"
                                                    eng="Password">Password</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                    class="form-control traduzirTitle" id="confirmPasswordSigninTeacher"
                                                    placeholder="Password" required>
                                                <label for="confirmPasswordSigninTeacher" class="traduzir"
                                                    pt="Confirmar palavra-passe" eng="Confirm password">Confirm
                                                    Password</label>
                                            </div>
                                            <div id="divErroSigninTeacher" style="display: none;">
                                                <p id="mensagemDeErroSigninTeacher"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-success traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Registar" eng="Sign in">Sign
                                                in</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div id="registarStudent" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Registar aluno"
                                            eng="Sign in student">
                                            Sign in student</h1><br />
                                        <form onsubmit="signInStudent();">
                                            <div class="form-floating" style="padding-bottom: 1px;">
                                                <input type="email" class="form-control" id="emailSigninStudent"
                                                    placeholder="name@example.com" required>
                                                <label for="emailSigninStudent" class="traduzir" pt="Endereço de email"
                                                    eng="Email address">Email
                                                    address</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameSigninStudent"
                                                    placeholder="name" required>
                                                <label for="nameSigninStudent" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="number" max="99999999" min="10000000" name="studentNumber"
                                                    class="form-control" id="studentNumberSigninStudent"
                                                    placeholder="Student Number" required>
                                                <label for="studentNumberSigninStudent" class="traduzir"
                                                    pt="Número de aluno" eng="Student number">Student number</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                    class="form-control traduzirTitle" id="passwordSigninStudent"
                                                    style="margin-bottom: 0px;" placeholder="Password" required>
                                                <label for="passwordSigninStudent" class="traduzir" pt="Palavra-passe"
                                                    eng="Password">Password</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                    class="form-control traduzirTitle" id="confirmPasswordSigninStudent"
                                                    placeholder="Password" required>
                                                <label for="confirmPasswordSigninStudent" class="traduzir"
                                                    pt="Confirmar palavra-passe" eng="Confirm password">Confirm
                                                    Password</label>
                                            </div>
                                            <div id="divErroSigninStudent" style="display: none;">
                                                <p id="mensagemDeErroSigninStudent"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-success traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Registar" eng="Sign in">Sign
                                                in</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div id="registarAdmin" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Registar admin"
                                            eng="Sign in admin">
                                            Sign in admin</h1><br />
                                        <form onsubmit="signInAdmin();">
                                            <div class="form-floating" style="padding-bottom: 1px;">
                                                <input type="email" class="form-control" id="emailSigninAdmin"
                                                    placeholder="name@example.com" required>
                                                <label for="emailSigninAdmin" class="traduzir" pt="Endereço de email"
                                                    eng="Email address">Email
                                                    address</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameSigninAdmin"
                                                    placeholder="name" required>
                                                <label for="nameSigninAdmin" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                    class="form-control traduzirTitle" id="passwordSigninAdmin"
                                                    style="margin-bottom: 0px;" placeholder="Password" required>
                                                <label for="passwordSigninAdmin" class="traduzir" pt="Palavra-passe"
                                                    eng="Password">Password</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                    class="form-control traduzirTitle" id="confirmPasswordSigninAdmin"
                                                    placeholder="Password" required>
                                                <label for="confirmPasswordSigninAdmin" class="traduzir"
                                                    pt="Confirmar palavra-passe" eng="Confirm password">Confirm
                                                    Password</label>
                                            </div>
                                            <div id="divErroSigninAdmin" style="display: none;">
                                                <p id="mensagemDeErroSigninAdmin"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-success traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Registar" eng="Sign in">Sign
                                                in</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div id="registarInstituicao" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Registar instituição"
                                            eng="Add new institution">
                                            Add new institution</h1><br />
                                        <form onsubmit="registerInstitution();">
                                            <div class="form-floating" style="padding-bottom: 1px;">
                                                <input type="text" class="form-control" id="siglaRegisterInstitution"
                                                    maxlength="10" placeholder="name@example.com" required>
                                                <label for="siglaRegisterInstitution" class="traduzir" pt="Sigla"
                                                    eng="Initials">Initials</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameRegisterInstitution"
                                                    maxlength="50" placeholder="name" required>
                                                <label for="nameRegisterInstitution" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div id="divErroRegisterInstitution" style="display: none;">
                                                <p id="mensagemDeErroRegisterInstitution"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-success traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Adicionar" eng="Add new">Add new</button>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <div id="registarDisciplina" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Registar disciplina"
                                            eng="Add new subject">
                                            Add new subject</h1><br />
                                        <form onsubmit="registerDisciplina();">
                                            <div class="form-floating" style="padding-bottom: 1px;">
                                                <input type="text" class="form-control" id="siglaRegisterSubject"
                                                    maxlength="10" placeholder="name@example.com" required>
                                                <label for="siglaRegisterSubject" class="traduzir" pt="Sigla"
                                                    maxlength="50" eng="Initials">Initials</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameRegisterSubject"
                                                    placeholder="name" required>
                                                <label for="nameRegisterSubject" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div id="divErroRegisterSubject" style="display: none;">
                                                <p id="mensagemDeErroRegisterSubject"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-success traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Adicionar" eng="Add new">Add new</button>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <div id="registarWorkspace" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Registar área de trabalho"
                                            eng="Add new workspace">
                                            Add new workspace</h1><br />
                                        <form onsubmit="registerWorkspace();">
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameRegisterWorkspace"
                                                    placeholder="name" required>
                                                <label for="nameRegisterWorkspace" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div class="form-floating" style="padding-bottom: 1px;">
                                                <input type="text" class="form-control" id="corRegisterWorkspace"
                                                    pattern="^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$" title="#FFF || #FFFFFF"
                                                    placeholder="name@example.com" required>
                                                <label for="corRegisterWorkspace" class="traduzir" pt="Cor"
                                                    eng="Color">Color</label>
                                            </div>
                                            <div id="divErroRegisterWorkspace" style="display: none;">
                                                <p id="mensagemDeErroRegisterWorkspace"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-success traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Adicionar" eng="Add new">Add new</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div id="alterarTeacher" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Alterar professor"
                                            eng="Update teacher">
                                            Update teacher</h1><br />
                                        <form onsubmit="alterarTeacher();">
                                            <input type="email" class="form-control" id="emailOriginalAlterarTeacher"
                                                placeholder="name@example.com" disabled hidden required>
                                            <div class="form-floating">
                                                <input type="email" class="form-control" id="emailAlterarTeacher"
                                                    placeholder="name@example.com" required>
                                                <label for="emailAlterarTeacher" class="traduzir" pt="Endereço de email"
                                                    eng="Email address">Email
                                                    address</label>
                                            </div>
                                            <!-- estado -->
                                            <div class="form-floating">
                                                <select class="form-select" id="estadoAlterarTeacher" value="0"
                                                    aria-label="semester">
                                                    <option value="t" class="traduzir" pt="True" eng="True">True
                                                    </option>
                                                    <option value="f" class="traduzir" pt="False" eng="False">False
                                                    </option>
                                                </select>
                                                <label for="estadoAlterarTeacher" class="traduzir" pt="Estado"
                                                    eng="State">State</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameAlterarTeacher"
                                                    placeholder="name" required>
                                                <label for="nameAlterarTeacher" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <!-- enviar email de recuperação -->
                                            <p style="padding-top: 1em;"><span class="traduzir"
                                                    pt="Enviar email de recuperação de palavra-passe "
                                                    eng="Send password recovery email ">Send password recovery email
                                                </span><a class="traduzir link " style="cursor: pointer;"
                                                    onclick="emailDeRecuperacaoTeacher();" pt="aqui"
                                                    eng="here">aqui</a>!
                                            </p>
                                            <div id="divErroAlterarTeacher" style="display: none;">
                                                <p id="mensagemDeErroAlterarTeacher"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-warning traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Alterar" eng="Update">Update</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div id="alterarStudent" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Alterar aluno"
                                            eng="Update student">
                                            Update student</h1><br />
                                        <form onsubmit="alterarStudent();">
                                            <input type="email" class="form-control" id="emailOriginalAlterarStudent"
                                                placeholder="name@example.com" disabled hidden required>
                                            <div class="form-floating">
                                                <input type="email" class="form-control" id="emailAlterarStudent"
                                                    placeholder="name@example.com" required>
                                                <label for="emailAlterarStudent" class="traduzir" pt="Endereço de email"
                                                    eng="Email address">Email
                                                    address</label>
                                            </div>
                                            <!-- estado -->
                                            <div class="form-floating">
                                                <select class="form-select" id="estadoAlterarStudent" value="0"
                                                    aria-label="semester">
                                                    <option value="t" class="traduzir" pt="True" eng="True">True
                                                    </option>
                                                    <option value="f" class="traduzir" pt="False" eng="False">False
                                                    </option>
                                                </select>
                                                <label for="estadoAlterarStudent" class="traduzir" pt="Estado"
                                                    eng="State">State</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameAlterarStudent"
                                                    placeholder="name" required>
                                                <label for="nameAlterarStudent" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <!-- numero de aluno -->
                                            <div class="form-floating">
                                                <input type="number" max="99999999" min="10000000" name="studentNumber"
                                                    class="form-control" id="studentNumberAlterarStudent"
                                                    placeholder="Student Number" required>
                                                <label for="studentNumberAlterarStudent" class="traduzir"
                                                    pt="Número de aluno" eng="Student number">Student number</label>
                                            </div>
                                            <!-- enviar email de recuperação -->
                                            <p style="padding-top: 1em;"><span class="traduzir"
                                                    pt="Enviar email de recuperação de palavra-passe "
                                                    eng="Send password recovery email ">Send password recovery email
                                                </span><a class="traduzir link" style="cursor: pointer;"
                                                    onclick="emailDeRecuperacaoStudent();" pt="aqui"
                                                    eng="here">aqui</a>!
                                            </p>
                                            <div id="divErroAlterarStudent" style="display: none;">
                                                <p id="mensagemDeErroAlterarStudent"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-warning traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Alterar" eng="Update">Update</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div id="alterarAdminUser" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Alterar admin"
                                            eng="Update admin">
                                            Update admin</h1><br />
                                        <form onsubmit="alterarAdmin();">
                                            <input type="email" class="form-control" id="emailOriginalAlterarAdmin"
                                                placeholder="name@example.com" disabled hidden required>
                                            <div class="form-floating">
                                                <input type="email" class="form-control" id="emailAlterarAdmin"
                                                    placeholder="name@example.com" required>
                                                <label for="emailAlterarAdmin" class="traduzir" pt="Endereço de email"
                                                    eng="Email address">Email
                                                    address</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="nameAlterarAdmin"
                                                    placeholder="name" required>
                                                <label for="nameAlterarAdmin" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <!-- enviar email de recuperação -->
                                            <p style="padding-top: 1em;"><span class="traduzir"
                                                    pt="Enviar email de recuperação de palavra-passe "
                                                    eng="Send password recovery email ">Send password recovery email
                                                </span><a class="traduzir link" style="cursor: pointer;"
                                                    onclick="emailDeRecuperacaoAdmin();" pt="aqui" eng="here">aqui</a>!
                                            </p>
                                            <div id="divErroAlterarAdmin" style="display: none;">
                                                <p id="mensagemDeErroAlterarAdmin"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-warning traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Alterar" eng="Update">Update</button>
                                        </form>
                                    </div>
                                </div>
                            </div>



                            <div id="alterarInstituicao" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Alterar Instituição"
                                            eng="Update institution">
                                            Update institution</h1><br />
                                        <form onsubmit="alterarInstituicao();">
                                            <input type="text" class="form-control" id="idAlterarInstituicao"
                                                placeholder="id" disabled hidden required>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="siglaAlterarInstituicao"
                                                    placeholder="Initials" required>
                                                <label for="siglaAlterarInstituicao" class="traduzir" pt="Sigla"
                                                    eng="Initials">Initials</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="nomeAlterarInstituicao"
                                                    placeholder="full name" required>
                                                <label for="nomeAlterarInstituicao" class="traduzir" pt="Nome completo"
                                                    eng="Full name">Full name</label>
                                            </div>
                                            <div id="divErroAlterarInstituicao" style="display: none;">
                                                <p id="mensagemDeErroAlterarInstituicao"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-warning traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Alterar" eng="Update">Update</button>
                                        </form>
                                    </div>
                                </div>
                            </div>



                            <div id="alterarDisciplina" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Alterar disciplina"
                                            eng="Update subject">
                                            Update subject</h1><br />
                                        <form onsubmit="alterarDisciplina();">
                                            <input type="text" class="form-control" id="idAlterarDisciplina"
                                                placeholder="id" disabled hidden required>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="siglaAlterarDisciplina"
                                                    placeholder="Initials" required>
                                                <label for="siglaAlterarDisciplina" class="traduzir" pt="Sigla"
                                                    eng="Initials">Initials</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="nomeAlterarDisciplina"
                                                    placeholder="full name" required>
                                                <label for="nomeAlterarDisciplina" class="traduzir" pt="Nome completo"
                                                    eng="Full name">Full name</label>
                                            </div>
                                            <div id="divErroAlterarDisciplina" style="display: none;">
                                                <p id="mensagemDeErroAlterarDisciplina"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-warning traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Alterar" eng="Update">Update</button>
                                        </form>
                                    </div>
                                </div>
                            </div>



                            <div id="alterarWorkSpace" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 250px;margin-bottom: 2em;">
                                    <div style="min-width: 250px;">
                                        <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Alterar área de trabalho"
                                            eng="Update Workspace">
                                            Update Workspace</h1><br />
                                        <form onsubmit="alterarWorkspace();">
                                            <input type="text" class="form-control" id="idAlterarWorkSpace"
                                                placeholder="id" disabled hidden required>
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="nomeAlterarWorkSpace"
                                                    placeholder="name" required>
                                                <label for="nomeAlterarWorkSpace" class="traduzir" pt="Nome"
                                                    eng="Name">Name</label>
                                            </div>
                                            <div class="form-floating">
                                                <input type="name" class="form-control" id="corAlterarWorkSpace"
                                                    pattern="^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$" title="#FFF || #FFFFFF"
                                                    placeholder="cor" required>
                                                <label for="corAlterarWorkSpace" class="traduzir" pt="Cor"
                                                    eng="Color">Color</label>
                                            </div>
                                            <div id="divErroAlterarWorkSpace" style="display: none;">
                                                <p id="mensagemDeErroAlterarWorkSpace"
                                                    class="w3-padding responsiveMensagemDeErro" style="color: #dc3545">
                                                </p>
                                            </div>
                                            <button
                                                class="w-100 btn btn-lg btn-warning traduzir responsiveButtonDebaixoDoErro"
                                                type="submit" pt="Alterar" eng="Update">Update</button>
                                        </form>
                                    </div>
                                </div>
                            </div>


                            <div id="confirmApagarTeacher" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Confirmar exclusão"
                                        eng="Confirm delete">
                                        Confirm delete</h1>
                                </div>
                                </p>
                                <br>
                                <p style="font-size: 20px;" class="traduzir"
                                    pt="Tem a certeza que deseja eliminar este professor?"
                                    eng="Are you sure you want to delete this teacher?">Are you sure you want to delete
                                    this teacher?</p>
                                <br>
                                <br>
                                <button class="btn btn-lg btn-danger traduzir" pt="Sim" eng="Yes" id="removeTeacher"
                                    style="bottom: 2em; position: absolute; left: 50%; transform: translateX(-105%); width: 10%; min-width: 6em;"
                                    onclick="eliminarTeacher(this)">Yes</button>
                                <button class="btn btn-lg btn-secondary traduzir" pt="Não" eng="No"
                                    style="bottom: 2em; position: absolute; right: 50%; transform: translateX(105%); width: 10%; min-width: 6em;"
                                    onclick="closeAlterar();">No</button>
                                <br>
                            </div>



                            <div id="confirmApagarStudent" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Confirmar exclusão"
                                        eng="Confirm delete">
                                        Confirm delete</h1>
                                </div>
                                </p>
                                <br>
                                <p style="font-size: 20px;" class="traduzir"
                                    pt="Tem a certeza que deseja eliminar este aluno?"
                                    eng="Are you sure you want to delete this student?">Are you sure you want to delete
                                    this student?</p>
                                <br>
                                <br>
                                <button class="btn btn-lg btn-danger traduzir" pt="Sim" eng="Yes" id="removeStudent"
                                    style="bottom: 2em; position: absolute; left: 50%; transform: translateX(-105%); width: 10%; min-width: 6em;"
                                    onclick="eliminarStudent(this)">Yes</button>
                                <button class="btn btn-lg btn-secondary traduzir" pt="Não" eng="No"
                                    style="bottom: 2em; position: absolute; right: 50%; transform: translateX(105%); width: 10%; min-width: 6em;"
                                    onclick="closeAlterar();">No</button>
                                <br>
                            </div>



                            <div id="confirmApagarAdmin" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Confirmar exclusão"
                                        eng="Confirm delete">
                                        Confirm delete</h1>
                                </div>
                                </p>
                                <br>
                                <p style="font-size: 20px;" class="traduzir"
                                    pt="Tem a certeza que deseja eliminar este admin?"
                                    eng="Are you sure you want to delete this admin?">Are you sure you want to delete
                                    this admin?</p>
                                <br>
                                <br>
                                <button class="btn btn-lg btn-danger traduzir" pt="Sim" eng="Yes" id="removeAdmin"
                                    style="bottom: 2em; position: absolute; left: 50%; transform: translateX(-105%); width: 10%; min-width: 6em;"
                                    onclick="eliminarAdmin(this)">Yes</button>
                                <button class="btn btn-lg btn-secondary traduzir" pt="Não" eng="No"
                                    style="bottom: 2em; position: absolute; right: 50%; transform: translateX(105%); width: 10%; min-width: 6em;"
                                    onclick="closeAlterar();">No</button>
                                <br>
                            </div>


                            <div id="confirmApagarInstituicao" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Confirmar exclusão"
                                        eng="Confirm delete">
                                        Confirm delete</h1>
                                </div>
                                </p>
                                <br>
                                <p style="font-size: 20px;" class="traduzir"
                                    pt="Tem a certeza que deseja eliminar esta instituição?"
                                    eng="Are you sure you want to delete this institution?">Are you sure you want to
                                    delete
                                    this institution?</p>
                                <br>
                                <br>
                                <button class="btn btn-lg btn-danger traduzir" pt="Sim" eng="Yes" id="removeInstituicao"
                                    style="bottom: 2em; position: absolute; left: 50%; transform: translateX(-105%); width: 10%; min-width: 6em;"
                                    onclick="eliminarInstituicao(this)">Yes</button>
                                <button class="btn btn-lg btn-secondary traduzir" pt="Não" eng="No"
                                    style="bottom: 2em; position: absolute; right: 50%; transform: translateX(105%); width: 10%; min-width: 6em;"
                                    onclick="closeAlterar();">No</button>
                                <br>
                            </div>


                            <div id="confirmApagarDisciplina" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Confirmar exclusão"
                                        eng="Confirm delete">
                                        Confirm delete</h1>
                                </div>
                                </p>
                                <br>
                                <p style="font-size: 20px;" class="traduzir"
                                    pt="Tem a certeza que deseja eliminar esta disciplina?"
                                    eng="Are you sure you want to delete this subject?">Are you sure you want to delete
                                    this subject?</p>
                                <br>
                                <br>
                                <button class="btn btn-lg btn-danger traduzir" pt="Sim" eng="Yes" id="removeDisciplina"
                                    style="bottom: 2em; position: absolute; left: 50%; transform: translateX(-105%); width: 10%; min-width: 6em;"
                                    onclick="eliminarDisciplina(this)">Yes</button>
                                <button class="btn btn-lg btn-secondary traduzir" pt="Não" eng="No"
                                    style="bottom: 2em; position: absolute; right: 50%; transform: translateX(105%); width: 10%; min-width: 6em;"
                                    onclick="closeAlterar();">No</button>
                                <br>
                            </div>


                            <div id="confirmApagarWorkspace" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Confirmar exclusão"
                                        eng="Confirm delete">
                                        Confirm delete</h1>
                                </div>
                                </p>
                                <br>
                                <p style="font-size: 20px;" class="traduzir"
                                    pt="Tem a certeza que deseja eliminar esta área de trabalho?"
                                    eng="Are you sure you want to delete this workspace?">Are you sure you want to
                                    delete
                                    this workspace?</p>
                                <br>
                                <br>
                                <button class="btn btn-lg btn-danger traduzir" pt="Sim" eng="Yes" id="removeWorkspace"
                                    style="bottom: 2em; position: absolute; left: 50%; transform: translateX(-105%); width: 10%; min-width: 6em;"
                                    onclick="eliminarWorkspace(this)">Yes</button>
                                <button class="btn btn-lg btn-secondary traduzir" pt="Não" eng="No"
                                    style="bottom: 2em; position: absolute; right: 50%; transform: translateX(105%); width: 10%; min-width: 6em;"
                                    onclick="closeAlterar();">No</button>
                                <br>
                            </div>

                            <div id="infoLog" class="changeAdmin"
                                style="margin-left: 5%;margin-right: 5%;margin-bottom: 5%;">
                                <div style="min-width: 200px;">
                                    <h1 class="h3 mb-3 fw-normal display-6 traduzir" pt="Histórico de admin:"
                                        eng="Admin history:">
                                        Admin history:</h1><br />
                                    <div style="border: 1px solid black;">
                                        <table class="table table-hover " style="margin-bottom: 0px;">
                                            <tbody>
                                                <tr>
                                                    <th scope="row" class="traduzir bg-dark text-light" pt="Admin"
                                                        eng="Admin">Admin
                                                    </th>
                                                    <td id="infoLogAdmin" class="bg-white text-dark"></td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="traduzir bg-dark text-light"
                                                        pt="Tipo de alteração" eng="Update type">Update type</th>
                                                    <td id="infoLogUpdateType" class="bg-white text-dark"></td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="traduzir bg-dark text-light" pt="Tabela"
                                                        eng="Table">Table</th>
                                                    <td id="infoLogTable" class="bg-white text-dark"></td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="traduzir bg-dark text-light"
                                                        pt="Registo alterado" eng="Record updated">Record updated</th>
                                                    <td id="infoLogRecordUpdated" class="bg-white text-dark"></td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="traduzir bg-dark text-light"
                                                        pt="Estado final do registo" eng="Record final state">Record
                                                        final state
                                                    </th>
                                                    <td id="infoLogRecordFinalState" class="bg-white text-dark"></td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="traduzir bg-dark text-light" pt="Data"
                                                        eng="Date">Date
                                                    </th>
                                                    <td id="infoLogData" class="bg-white text-dark"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>


                                </div>
                            </div>




                        </div>
                    </div>


                    <div class="text-center featurette" style="margin-top: 5em;">
                        <span class="display-5 traduzir" pt="Administração" eng="Administrator">Administrator</span>
                    </div>
                    <div class="row featurette container" style="margin-bottom: 7em;padding-right: 0px;">

                        <ul class="nav nav-tabs" id="myTab" role="tablist" style="margin-top: 2em;">
                            <li class="nav-item">
                                <button class="nav-link active traduzir responsiveKindaSmalText" pt="Utilizadores"
                                    eng="Users" id="Users-tab" data-toggle="tab" href="#Users" role="tab"
                                    aria-controls="Users" aria-selected="true">Users</button>
                            </li>
                            <li class="nav-item">
                                <button class="nav-link traduzir responsiveKindaSmalText" pt="Instituições"
                                    eng="Institutions" id="Institutions-tab" data-toggle="tab" href="#Institutions"
                                    role="tab" aria-controls="Institutions" aria-selected="true">Institutions</button>
                            </li>
                            <li class="nav-item">
                                <button class="nav-link traduzir responsiveKindaSmalText" pt="Disciplinas"
                                    eng="Subjects" id="Subjects-tab" data-toggle="tab" href="#Subjects" role="tab"
                                    aria-controls="Subjects" aria-selected="true">Subjects</button>
                            </li>
                            <li class="nav-item">
                                <button class="nav-link traduzir responsiveKindaSmalText" pt="Áreas de trabalho"
                                    eng="Workspaces" id="Workspace-tab" data-toggle="tab" href="#Workspace" role="tab"
                                    aria-controls="Workspace" aria-selected="true">Workspaces</button>
                            </li>
                            <li class="nav-item">
                                <button class="nav-link traduzir responsiveKindaSmalText" pt="Histórico dos admin"
                                    eng="Admin history" id="logs-tab" data-toggle="tab" href="#logs" role="tab"
                                    aria-controls="logs" aria-selected="true">Admin history</button>
                            </li>
                        </ul>
                        <div class="tab-content" id="myTabContent" style="padding: 0;margin-bottom: 7em;">
                            <div class="show active tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                style="background-color: white;" id="Users" role="tabpanel" aria-labelledby="Users-tab">
                                <div class="col-md-12 p-5 d-flex flex-column position-static">
                                    <div style="margin-bottom: 3em;position: relative;"
                                        class="d-flex justify-content-center">
                                        <div class="btn-group w-100" role="group" aria-label="Basic example">
                                            <input required ng-model="searchBarUsers"
                                                style="width:90%; font-size: large; border-top-right-radius: 0px; border-bottom-right-radius: 0px"
                                                class="form-control " type="search" placeholder="Search"
                                                id="searchBarUsersInput" aria-label="Search" minlength="3">
                                            <button type="button" class="btn btn-primary"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>

                                    <div ng-if="( searchUsers.Teachers |  filter : searchBarUsers ).length > 0"
                                        style="position: relative;"
                                        ng-style="( searchUsers.Admin.length > 0 || searchUsers.Students.length > 0 ) && {'padding-bottom': '3em'}">
                                        <h3 style="width: 70%;display: inline;"><span
                                                class="display-6 traduzir semiTitles" pt="Professores:" eng="Teachers:">
                                                Teachers:</span></h3>
                                        <div class="actionAddTd" style="float: right;"><button
                                                class="btn btn-sm btn-success actionButtons traduzir" pt="Adicionar"
                                                onclick="callAlterar('registarTeacher', 'changeAdmin');"
                                                eng="Add + new">Add
                                                new</button></div>
                                        <hr>
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Email"
                                                            eng="Email">
                                                            Email</th>
                                                        <th scope="col" class=" traduzir" pt="Nome" eng="Name">
                                                            Name</th>
                                                        <th scope="col" class="actionTd traduzir" pt="Ação"
                                                            eng="Action">
                                                            Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr
                                                        ng-repeat="teacher in searchUsers.Teachers | filter : searchBarUsers">
                                                        <td scope="row" class="mostrarEmail">{{ teacher.email }}</td>
                                                        <td scope="row">{{ teacher.nome }}</td>
                                                        <td scope="row" class="actionTd">
                                                            <button
                                                                class="btn btn-sm btn-warning traduzir actionButtons"
                                                                pt="Alterar" eng="Update" email="{{teacher.email}}"
                                                                estado="{{teacher.estado}}" nome="{{teacher.nome}}"
                                                                onclick='updateTeacher(this)'>Update</button>
                                                            <button class="btn btn-sm btn-danger traduzir actionButtons"
                                                                pt="Eliminar" eng="Delete" value="{{teacher.email}}"
                                                                onclick='confirmApagarTeacherOpen(this)'>Delete</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div ng-if="( searchUsers.Students |  filter : searchBarUsers ).length > 0"
                                        style="position: relative;"
                                        ng-style="searchUsers.Admin.length > 0 && {'padding-bottom': '3em'}">

                                        <h3 style="width: 70%;display: inline;"><span
                                                class="display-6 traduzir semiTitles" pt="Alunos:" eng="Students:">
                                                Students:</span></h3>
                                        <div class="actionAddTd" style="float: right;"><button
                                                class="btn btn-sm btn-success actionButtons traduzir" pt="Adicionar"
                                                onclick="callAlterar('registarStudent', 'changeAdmin');"
                                                eng="Add + new">Add
                                                new</button></div>
                                        <hr>
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Email"
                                                            eng="Email">
                                                            Email</th>
                                                        <th scope="col" class=" traduzir" pt="Nome" eng="Name">
                                                            Name</th>
                                                        <th scope="col" class="actionTd traduzir" pt="Ação"
                                                            eng="Action">
                                                            Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr
                                                        ng-repeat="student in searchUsers.Students | filter : searchBarUsers">
                                                        <td scope="row" class="mostrarEmail">{{ student.email }}</td>
                                                        <td scope="row">{{ student.nome }}</td>
                                                        <td scope="row" class="actionTd">
                                                            <button
                                                                class="btn btn-sm btn-warning traduzir actionButtons"
                                                                pt="Alterar" eng="Update" email="{{student.email}}"
                                                                nome="{{student.nome}}" estado="{{student.estado}}"
                                                                numeroDeAluno="{{student.numeroDeAluno}}"
                                                                onclick='updateStudent(this)'>Update</button>
                                                            <button class="btn btn-sm btn-danger traduzir actionButtons"
                                                                pt="Eliminar" eng="Delete" value="{{student.email}}"
                                                                onclick='confirmApagarStudentOpen(this)'>Delete</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>


                                    <div ng-if="( searchUsers.Admin |  filter : searchBarUsers ).length > 0"
                                        style="position: relative;">

                                        <h3 style="width: 70%;display: inline;"><span
                                                class="display-6 traduzir semiTitles" pt="Admin:" eng="Admin:">
                                                Admin:</span></h3>
                                        <div class="actionAddTd" style="float: right;"><button
                                                class="btn btn-sm btn-success actionButtons traduzir" pt="Adicionar"
                                                onclick="callAlterar('registarAdmin', 'changeAdmin');"
                                                eng="Add + new">Add
                                                new</button></div>
                                        <hr>
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Email"
                                                            eng="Email">
                                                            Email</th>
                                                        <th scope="col" class=" traduzir" pt="Nome" eng="Name">
                                                            Name</th>
                                                        <th scope="col" class="actionTd traduzir" pt="Ação"
                                                            eng="Action">
                                                            Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr
                                                        ng-repeat="admin in searchUsers.Admin | filter : searchBarUsers">
                                                        <td scope="row" class="mostrarEmail">{{ admin.email }}</td>
                                                        <td scope="row">{{ admin.nome }}</td>
                                                        <td scope="row" class="actionTd">
                                                            <button
                                                                class="btn btn-sm btn-warning traduzir actionButtons"
                                                                pt="Alterar" eng="Update" email="{{admin.email}}"
                                                                nome="{{admin.nome}}"
                                                                onclick='updateAdmin(this)'>Update</button>
                                                            <button class="btn btn-sm btn-danger traduzir actionButtons"
                                                                ng-if="searchUsers.Admin.length != 1" pt="Eliminar"
                                                                eng="Delete" value="{{admin.email}}"
                                                                onclick='confirmApagarAdminOpen(this)'>Delete</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div
                                        ng-if="( searchUsers.Admin |  filter : searchBarUsers ).length == 0 && ( searchUsers.Students |  filter : searchBarUsers ).length == 0 && ( searchUsers.Teachers |  filter : searchBarUsers ).length == 0">
                                        <div href="#" class="list-group-item">
                                            <div style="height: 5em;">
                                                <div
                                                    style="position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);">
                                                    <span class="traduzir" pt="Utilizador não encontrado!"
                                                        eng="User not found!">User not found!
                                                        </i></span>&nbsp;&nbsp;<i
                                                        class="fas fa-exclamation-triangle"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                style="background-color: white;" id="Institutions" role="tabpanel"
                                aria-labelledby="Institutions-tab">
                                <div class="col-md-12 p-5 d-flex flex-column position-static">
                                    <div style="margin-bottom: 3em;position: relative;"
                                        class="d-flex justify-content-center">
                                        <div class="btn-group w-100" role="group" aria-label="Basic example">
                                            <input required ng-model="searchBarInstituicao"
                                                style="width:90%; font-size: large; border-top-right-radius: 0px; border-bottom-right-radius: 0px"
                                                class="form-control " type="search" placeholder="Search"
                                                id="searchBarInstituicaoInput" aria-label="Search" minlength="3">
                                            <button type="button" class="btn btn-primary"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.AllInstituicoes |  filter : searchBarInstituicao ).length > 0"
                                        style="position: relative;">

                                        <h3 style="width: 70%;display: inline;"><span
                                                class="display-6 traduzir semiTitles" pt="Instituições:"
                                                eng="Institutions:">
                                                Institutions:</span></h3>
                                        <div class="actionAddTd" style="float: right;"><button
                                                class="btn btn-sm btn-success actionButtons traduzir" pt="Adicionar"
                                                onclick="callAlterar('registarInstituicao', 'changeAdmin');"
                                                eng="Add + new">Add
                                                new</button></div>
                                        <hr>
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Sigla"
                                                            eng="Initials">
                                                            Initials</th>
                                                        <th scope="col" class=" traduzir" pt="Nome completo"
                                                            eng="Full name">
                                                            Full name</th>
                                                        <th scope="col" class="actionTd traduzir" pt="Ação"
                                                            eng="Action">
                                                            Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr
                                                        ng-repeat="instituicao in profile.AllInstituicoes | filter : searchBarInstituicao">
                                                        <td scope="row" class="mostrarEmail">{{ instituicao.sigla }}
                                                        </td>
                                                        <td scope="row">{{ instituicao.nome }}</td>
                                                        <td scope="row" class="actionTd">
                                                            <button
                                                                class="btn btn-sm btn-warning traduzir actionButtons"
                                                                pt="Alterar" eng="Update"
                                                                id="{{instituicao.idInstituicao}}"
                                                                sigla="{{instituicao.sigla}}"
                                                                nome="{{instituicao.nome}}"
                                                                onclick='updateInstituicao(this)'>Update</button>
                                                            <button class="btn btn-sm btn-danger traduzir actionButtons"
                                                                pt="Eliminar" eng="Delete"
                                                                value="{{instituicao.idInstituicao}}"
                                                                onclick='confirmApagarInstituicaoOpen(this)'>Delete</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.AllInstituicoes |  filter : searchBarInstituicao ) == 0">
                                        <div href="#" class="list-group-item">
                                            <div style="height: 5em;">
                                                <div
                                                    style="position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);">
                                                    <span class="traduzir" pt="Instituição não encontrada!"
                                                        eng="Institution not found!">Institution not found!
                                                        </i></span>&nbsp;&nbsp;<i
                                                        class="fas fa-exclamation-triangle"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                style="background-color: white;" id="Subjects" role="tabpanel"
                                aria-labelledby="Subjects-tab">
                                <div class="col-md-12 p-5 d-flex flex-column position-static">
                                    <div style="margin-bottom: 3em;position: relative;"
                                        class="d-flex justify-content-center">
                                        <div class="btn-group w-100" role="group" aria-label="Basic example">
                                            <input required ng-model="searchBarDisciplinas"
                                                style="width:90%; font-size: large; border-top-right-radius: 0px; border-bottom-right-radius: 0px"
                                                class="form-control " type="search" placeholder="Search"
                                                id="searchBarDisciplinasInput" aria-label="Search" minlength="3">
                                            <button type="button" class="btn btn-primary"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.AllDisciplinas |  filter : searchBarDisciplinas ).length > 0"
                                        style="position: relative;">

                                        <h3 style="width: 70%;display: inline;"><span
                                                class="display-6 traduzir semiTitles" pt="Disciplinas:" eng="Subjects:">
                                                Subjects:</span></h3>
                                        <div class="actionAddTd" style="float: right;"><button
                                                class="btn btn-sm btn-success actionButtons traduzir" pt="Adicionar"
                                                onclick="callAlterar('registarDisciplina', 'changeAdmin');"
                                                eng="Add + new">Add
                                                new</button></div>
                                        <hr>
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Sigla"
                                                            eng="Initials">
                                                            Initials</th>
                                                        <th scope="col" class=" traduzir" pt="Nome completo"
                                                            eng="Full name">
                                                            Full name</th>
                                                        <th scope="col" class="actionTd traduzir" pt="Ação"
                                                            eng="Action">
                                                            Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr
                                                        ng-repeat="disciplina in profile.AllDisciplinas | filter : searchBarDisciplinas">
                                                        <td scope="row" class="mostrarEmail">{{ disciplina.sigla }}
                                                        </td>
                                                        <td scope="row">{{ disciplina.nome }}</td>
                                                        <td scope="row" class="actionTd">
                                                            <button
                                                                class="btn btn-sm btn-warning traduzir actionButtons"
                                                                pt="Alterar" eng="Update"
                                                                id="{{disciplina.idDisciplinas}}"
                                                                sigla="{{disciplina.sigla}}" nome="{{disciplina.nome}}"
                                                                onclick='updateDisciplina(this)'>Update</button>
                                                            <button class="btn btn-sm btn-danger traduzir actionButtons"
                                                                pt="Eliminar" eng="Delete"
                                                                value="{{disciplina.idDisciplinas}}"
                                                                onclick='confirmApagarDisciplinaOpen(this)'>Delete</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.AllDisciplinas |  filter : searchBarDisciplinas ) == 0">
                                        <div href="#" class="list-group-item">
                                            <div style="height: 5em;">
                                                <div
                                                    style="position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);">
                                                    <span class="traduzir" pt="Disciplina não encontrada!"
                                                        eng="Subject not found!">Subject not found!
                                                        </i></span>&nbsp;&nbsp;<i
                                                        class="fas fa-exclamation-triangle"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                style="background-color: white;" id="Workspace" role="tabpanel"
                                aria-labelledby="Workspace-tab">
                                <div class="col-md-12 p-5 d-flex flex-column position-static">
                                    <div style="margin-bottom: 3em;position: relative;"
                                        class="d-flex justify-content-center">
                                        <div class="btn-group w-100" role="group" aria-label="Basic example">
                                            <input required ng-model="searchBarAreas"
                                                style="width:90%; font-size: large; border-top-right-radius: 0px; border-bottom-right-radius: 0px"
                                                class="form-control " type="search" placeholder="Search"
                                                id="searchBarAreasInput" aria-label="Search" minlength="3">
                                            <button type="button" class="btn btn-primary"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.allAreas |  filter : searchBarAreas ).length > 0"
                                        style="position: relative;">

                                        <h3 style="width: 70%;display: inline;"><span
                                                class="display-6 traduzir semiTitles" pt="Áreas de trabalho:"
                                                eng="Workspaces:">
                                                Workspaces:</span></h3>
                                        <div class="actionAddTd" style="float: right;"><button
                                                class="btn btn-sm btn-success actionButtons traduzir" pt="Adicionar"
                                                onclick="callAlterar('registarWorkspace', 'changeAdmin');"
                                                eng="Add + new">Add
                                                new</button></div>
                                        <hr>
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir " pt="Nome" eng="Name">
                                                            Name</th>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Cor"
                                                            eng="Color">
                                                            Color</th>
                                                        <th scope="col" class="actionTd traduzir" pt="Ação"
                                                            eng="Action">
                                                            Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="area in profile.allAreas | filter : searchBarAreas as searchAreas"
                                                        ng-show="area.nome != '' && area.nome != 'Vazio'">
                                                        <td scope="row">{{ area.nome }}
                                                        </td>
                                                        <td scope="row" class="mostrarEmail">{{ area.cor }}</td>
                                                        <td scope="row" class="actionTd">
                                                            <button
                                                                class="btn btn-sm btn-warning traduzir actionButtons"
                                                                pt="Alterar" eng="Update" id="{{area.idArea}}"
                                                                cor="{{area.cor}}" nome="{{area.nome}}"
                                                                onclick='updateWorkspace(this)'>Update</button>
                                                            <button class="btn btn-sm btn-danger traduzir actionButtons"
                                                                pt="Eliminar" eng="Delete" value="{{area.idArea}}"
                                                                onclick='confirmApagarWorkspaceOpen(this)'>Delete</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.allAreas |  filter : searchBarAreas ) == 0">
                                        <div href="#" class="list-group-item">
                                            <div style="height: 5em;">
                                                <div
                                                    style="position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);">
                                                    <span class="traduzir" pt="Área de trabalho não encontrada!"
                                                        eng="Workspace not found!">Workspace not found!
                                                        </i></span>&nbsp;&nbsp;<i
                                                        class="fas fa-exclamation-triangle"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane fade row g-0 border border-top-0 rounded-bottom overflow-hidden flex-md-row shadow-sm h-md-250 position-relative"
                                style="background-color: white;" id="logs" role="tabpanel" aria-labelledby="logs-tab">
                                <div class="col-md-12 p-5 d-flex flex-column position-static">
                                    <div style="margin-bottom: 3em;position: relative;"
                                        class="d-flex justify-content-center">
                                        <div class="btn-group w-100" role="group" aria-label="Basic example">
                                            <input required ng-model="searchBarLogs"
                                                style="width:90%; font-size: large; border-top-right-radius: 0px; border-bottom-right-radius: 0px"
                                                class="form-control " type="search" placeholder="Search"
                                                id="searchBarLogsInput" aria-label="Search" minlength="3">
                                            <button type="button" class="btn btn-primary"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.logsAdmin |  filter : searchBarLogs ).length > 0"
                                        style="position: relative;">
                                        <div>
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Admin"
                                                            eng="Admin">
                                                            Admin</th>
                                                        <th scope="col" class=" traduzir " pt="Tipo de alteração"
                                                            eng="Update type">
                                                            Update type</th>
                                                        <th scope="col" class=" traduzir " pt="Tabela" eng="Table">
                                                            Table</th>
                                                        <th scope="col" class=" traduzir mostrarEmail"
                                                            pt="Registo alterado" eng="Record updated">
                                                            Record updated</th>
                                                        <th scope="col" class=" traduzir mostrarEmail"
                                                            pt="Estado final do registo" eng="Record final state">
                                                            Record final state</th>
                                                        <th scope="col" class=" traduzir mostrarEmail" pt="Data"
                                                            eng="Date">
                                                            Date</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="log in profile.logsAdmin | filter : searchBarLogs"
                                                        onclick="openInfoLog(this);" admin="{{log.email}}"
                                                        updateType="{{log.tipoDeAlteracao}}" table="{{log.tabela}}"
                                                        recordUpdated="{{log.idRegisto}}"
                                                        recordFinalState="{{log.estadoFinal}}" data="{{log.dateTime}}"
                                                        id="logsAdminMostrarTR{{log.idLog}}" idLog="{{log.idLog}}">
                                                        <td scope="row" class="mostrarEmail">{{ log.email }}
                                                        </td>
                                                        <td scope="row">{{ log.tipoDeAlteracao }}</td>
                                                        <td scope="row">{{ log.tabela }}</td>
                                                        <td scope="row" class="mostrarEmail">{{ log.idRegisto }}</td>
                                                        <td scope="row" class="mostrarEmail">{{ log.estadoFinal }}</td>
                                                        <td scope="row" class="mostrarEmail">{{ log.dateTime }}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div ng-if="( profile.logsAdmin |  filter : searchBarLogs ) == 0">
                                        <div href="#" class="list-group-item">
                                            <div style="height: 5em;">
                                                <div
                                                    style="position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);">
                                                    <span class="traduzir" pt="Log não encontrado!"
                                                        eng="Log not found!">Log not found!
                                                        </i></span>&nbsp;&nbsp;<i
                                                        class="fas fa-exclamation-triangle"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <footer class="bg-dark text-white w-100" style="position: fixed;bottom: 0em;height: 2em;padding: 2rem;">
                <p class="float-end"><a href="#"><i class="arrow up" style="zoom: 150%;"></i></a></p>
                <p class="text-center responsiveVerySmalText">&copy; 2021 E&#8209;Teacher, Inc. &middot; <span
                        class=" traduzir" pt="Por" eng="By">by</span>: Daniel Ventura, Gonçalo Dinis <span
                        class="traduzir" pt="e" eng="and">and</span> Rodrigo Gomes &middot; <a href="#">Privacy</a>
                    &middot; <a href="#">Terms</a></p>
            </footer>
            <script>

                const urlBase = window.location.origin;
                let mandadoParaCima = false;
                verificarLogin();

                async function verificarLogin() {
                    if (sessionStorage.getItem('E-Teacher User Token') !== null) {
                        await fetchToken().then((response) => {
                            const tipo = response.tipo;
                            if (response.message === "Token expired!") {
                                // token expirou, dá logout
                                const tokenExpirou = true;
                                logout(tokenExpirou);
                                return;
                            }
                            // esta autenticado
                            if (tipo !== "admin") {
                                window.location.href = window.location.origin;
                            }
                            const email = response.email;
                            sessionStorage.setItem('E-Teacher User Email', email);
                            sessionStorage.setItem('E-Teacher User Tipo', tipo);
                            document.getElementById("loginNavBar").style.display = "none";
                        });

                    } else {
                        // não está autenticado            
                        window.location.href = window.location.origin;

                    }

                }

                function logout(tokenExpirou) {
                    sessionStorage.removeItem('E-Teacher User Token');
                    sessionStorage.removeItem('E-Teacher User hashedToken');
                    sessionStorage.removeItem('E-Teacher User Email');
                    sessionStorage.removeItem('E-Teacher User Tipo');
                    sessionStorage.removeItem('E-Teacher User Page');
                    sessionStorage.removeItem('E-Teacher Idioma');
                    if (tokenExpirou === undefined) {
                        window.location.href = window.location.origin;
                    } else {
                        window.location.href = window.location.origin + "?tokenExpired=true";
                    }

                }


                async function fetchToken() {
                    const token = sessionStorage.getItem('E-Teacher User Token');
                    const hashedToken = sessionStorage.getItem('E-Teacher User hashedToken');
                    const body = JSON.stringify({ token: token, hashedToken: hashedToken });
                    const responseAwait = await fetch(`${urlBase}/decodeJwt`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body
                    });
                    const response = await responseAwait.json();
                    return response;
                }

            </script>

            <!-- bootstrap -->
            <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


            <!-- angular -->
            <script src="./js/angular.min.js"></script>
            <script src="./js/angular-ui-router.min.js"></script>
            <script src="./js/app.js"></script>

            <script>
                function callSearch() {
                    if (sessionStorage.getItem('E-Teacher User Token') === null) {
                        document.getElementById("loginNavBar").style.display = "block";
                    }
                    sessionStorage.setItem("E-Teacher Page", "callSearch");
                    openLink("searchPage", "mainPage");
                    openNavBar("callSearch", "navBarETeacher");
                    document.body.style.backgroundColor = "#f5f5f5";
                }


                function callAdmin() {
                    if (sessionStorage.getItem('E-Teacher User Token') === null) {
                        document.getElementById("loginNavBar").style.display = "block";
                    }
                    sessionStorage.setItem("E-Teacher Page", "callAdmin");
                    openLink("adminPage", "mainPage");
                    openNavBar("callAccount", "navBarETeacher");
                    document.body.style.backgroundColor = "#f5f5f5";
                }

                function callAlterar(idParaMostrar, classParaEsconder) {
                    document.getElementById("alterarAdmin").style.display = "block";
                    openLink(idParaMostrar, classParaEsconder);
                }


                function closeAlterar() {
                    document.getElementById('alterarAdmin').style.display = 'none';
                }

                async function signInTeacher() {
                    const email = document.getElementById("emailSigninTeacher");
                    const nome = document.getElementById("nameSigninTeacher");
                    const password = document.getElementById("passwordSigninTeacher");
                    const confirmPassword = document.getElementById("confirmPasswordSigninTeacher");
                    const user = "professores";
                    if (password.value == confirmPassword.value) {
                        //verificar se não existe um email registado
                        let tipo = await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.verificarTipoDeConta(email.value);
                        if (tipo == "false") {
                            //não existe nenhum email associado
                            body = JSON.stringify({ email: email.value, nome: nome.value, password: password.value, user });
                            return fetch(`${urlBase}/registarUser`, {
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                method: "POST",
                                body: body
                            }).then((response) => {
                                if (response.status === 409) {
                                    email.style.borderColor = "#dc3545";
                                    document.getElementById("divErroSigninTeacher").style.display = "block";
                                    if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                                        document.getElementById("mensagemDeErroSigninTeacher").innerText = "Email já associado!";
                                    } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                                        document.getElementById("mensagemDeErroSigninTeacher").innerText = "Email already associated!";
                                    }
                                }
                                if (!response.ok) {
                                    throw new Error(response.statusText);
                                }
                                return response.json();
                            }).then((response) => {
                                awaitCriarConta(email, user, nome, password, confirmPassword, email, "divErroSigninTeacher", "mensagemDeErroSigninTeacher", email, nome, password, confirmPassword);
                            });
                        } else {
                            //mostrar mensagem de erro a dizer que as passwords precisam ser iguais
                            password.style.borderColor = "#ced4da";
                            confirmPassword.style.borderColor = "#ced4da";
                            email.style.borderColor = "#dc3545";
                            document.getElementById("divErroSigninTeacher").style.display = "block";
                            if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                                document.getElementById("mensagemDeErroSigninTeacher").innerText = "Email já associado no E-Teacher!";
                            } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                                document.getElementById("mensagemDeErroSigninTeacher").innerText = "Email already associated with E-Teacher!";
                            }

                        }
                    } else {
                        //mostrar mensagem de erro a dizer que as passwords precisam ser iguais
                        password.style.borderColor = "#dc3545";
                        confirmPassword.style.borderColor = "#dc3545";
                        document.getElementById("divErroSigninTeacher").style.display = "block";
                        if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                            document.getElementById("mensagemDeErroSigninTeacher").innerText = "Palavras-passe diferentes!";
                        } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                            document.getElementById("mensagemDeErroSigninTeacher").innerText = "Different passwords!";
                        }

                    }
                }



                async function signInStudent() {
                    const email = document.getElementById("emailSigninStudent");
                    const nome = document.getElementById("nameSigninStudent");
                    const numeroDeAluno = document.getElementById("studentNumberSigninStudent");
                    const password = document.getElementById("passwordSigninStudent");
                    const confirmPassword = document.getElementById("confirmPasswordSigninStudent");
                    const user = "alunos";
                    if (password.value == confirmPassword.value) {
                        //verificar se não existe um email registado
                        let tipo = await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.verificarTipoDeConta(email.value);
                        if (tipo == "false") {
                            //não existe nenhum email associado
                            body = JSON.stringify({ email: email.value, nome: nome.value, password: password.value, studentNumber: parseInt(numeroDeAluno.value), user, admin: "admin" });
                            return fetch(`${urlBase}/registarUser`, {
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                method: "POST",
                                body: body
                            }).then((response) => {
                                if (response.status === 409) {
                                    email.style.borderColor = "#dc3545";
                                    document.getElementById("divErroSigninStudent").style.display = "block";
                                    if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                                        document.getElementById("mensagemDeErroSigninStudent").innerText = "Email já associado!";
                                    } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                                        document.getElementById("mensagemDeErroSigninStudent").innerText = "Email already associated!";
                                    }
                                }
                                if (!response.ok) {
                                    throw new Error(response.statusText);
                                }
                                return response.json();
                            }).then((response) => {
                                awaitCriarConta(email, user, nome, password, confirmPassword, email, "divErroSigninTeacher", "mensagemDeErroSigninTeacher", email, nome, password, confirmPassword, numeroDeAluno);
                            });
                        } else {
                            //mostrar mensagem de erro a dizer que as passwords precisam ser iguais
                            password.style.borderColor = "#ced4da";
                            confirmPassword.style.borderColor = "#ced4da";
                            email.style.borderColor = "#dc3545";
                            document.getElementById("divErroSigninStudent").style.display = "block";
                            if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                                document.getElementById("mensagemDeErroSigninStudent").innerText = "Email já associado no E-Teacher!";
                            } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                                document.getElementById("mensagemDeErroSigninStudent").innerText = "Email already associated with E-Teacher!";
                            }

                        }
                    } else {
                        //mostrar mensagem de erro a dizer que as passwords precisam ser iguais
                        password.style.borderColor = "#dc3545";
                        confirmPassword.style.borderColor = "#dc3545";
                        document.getElementById("divErroSigninStudent").style.display = "block";
                        if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                            document.getElementById("mensagemDeErroSigninStudent").innerText = "Palavras-passe diferentes!";
                        } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                            document.getElementById("mensagemDeErroSigninStudent").innerText = "Different passwords!";
                        }

                    }
                }


                async function signInAdmin() {
                    const email = document.getElementById("emailSigninAdmin");
                    const nome = document.getElementById("nameSigninAdmin");
                    const password = document.getElementById("passwordSigninAdmin");
                    const confirmPassword = document.getElementById("confirmPasswordSigninAdmin");
                    const user = "admin";
                    if (password.value == confirmPassword.value) {
                        //verificar se não existe um email registado
                        let tipo = await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.verificarTipoDeConta(email.value);
                        if (tipo == "false") {
                            //não existe nenhum email associado
                            body = JSON.stringify({ email: email.value, nome: nome.value, password: password.value, user, admin: "admin" });
                            return fetch(`${urlBase}/registarUser`, {
                                headers: {
                                    "Content-Type": "application/json",
                                },
                                method: "POST",
                                body: body
                            }).then((response) => {
                                if (response.status === 409) {
                                    email.style.borderColor = "#dc3545";
                                    document.getElementById("divErroSigninAdmin").style.display = "block";
                                    if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                                        document.getElementById("mensagemDeErroSigninAdmin").innerText = "Email já associado!";
                                    } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                                        document.getElementById("mensagemDeErroSigninAdmin").innerText = "Email already associated!";
                                    }
                                }
                                if (!response.ok) {
                                    throw new Error(response.statusText);
                                }
                                return response.json();
                            }).then((response) => {
                                awaitCriarConta(email, user, nome, password, confirmPassword, email, "divErroSigninTeacher", "mensagemDeErroSigninTeacher", email, nome, password, confirmPassword);
                            });
                        } else {
                            //mostrar mensagem de erro a dizer que as passwords precisam ser iguais
                            password.style.borderColor = "#ced4da";
                            confirmPassword.style.borderColor = "#ced4da";
                            email.style.borderColor = "#dc3545";
                            document.getElementById("divErroSigninAdmin").style.display = "block";
                            if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                                document.getElementById("mensagemDeErroSigninAdmin").innerText = "Email já associado no E-Teacher!";
                            } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                                document.getElementById("mensagemDeErroSigninAdmin").innerText = "Email already associated with E-Teacher!";
                            }

                        }
                    } else {
                        //mostrar mensagem de erro a dizer que as passwords precisam ser iguais
                        password.style.borderColor = "#dc3545";
                        confirmPassword.style.borderColor = "#dc3545";
                        document.getElementById("divErroSigninAdmin").style.display = "block";
                        if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                            document.getElementById("mensagemDeErroSigninAdmin").innerText = "Palavras-passe diferentes!";
                        } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                            document.getElementById("mensagemDeErroSigninAdmin").innerText = "Different passwords!";
                        }

                    }
                }

                async function awaitCriarConta(email, user, nome, password, confirmPassword, email, divErro, mensagemDeErro, email, nome, password, confirmPassword, numeroAluno) {
                    if (numeroAluno !== undefined) {
                        await criarConta(email.value, user, nome.value, numeroAluno.value);
                    } else {
                        await criarConta(email.value, user, nome.value);
                    }
                    password.style.borderColor = "#ced4da";
                    confirmPassword.style.borderColor = "#ced4da";
                    email.style.borderColor = "#ced4da";
                    document.getElementById(divErro).style.display = "none";
                    document.getElementById(mensagemDeErro).innerText = "";
                    email.value = "";
                    nome.value = "";
                    password.value = "";
                    confirmPassword.value = "";
                    if (numeroAluno !== undefined) {
                        numeroAluno.value = "";
                    }
                }

                function registerInstitution() {
                    const sigla = document.getElementById("siglaRegisterInstitution");
                    const nome = document.getElementById("nameRegisterInstitution");
                    body = JSON.stringify({ sigla: sigla.value, nome: nome.value });
                    return fetch(`${urlBase}/registarInstituicaoAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        if (!response.ok) {
                            throw new Error(response.statusText);
                        }
                        return response.json();
                    }).then((response) => {
                        //dar reload nas instituicoes
                        angular.element(document.querySelector('body')).scope().profile.reloadAllInstituicoes();
                        closeAlterar();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "INSERT", tabela: "instituicao", idRegisto: "Automático", estadoFinal: "id: Automático, nome: " + nome.value + ", sigla: " + sigla.value, email: emailDesteAdmin });
                        atualizarLogs(log);
                        nome.value = "";
                        sigla.value = "";
                    });
                }


                function registerDisciplina() {
                    const sigla = document.getElementById("siglaRegisterSubject");
                    const nome = document.getElementById("nameRegisterSubject");
                    body = JSON.stringify({ sigla: sigla.value, nome: nome.value });
                    return fetch(`${urlBase}/registarDisciplinaAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        if (!response.ok) {
                            throw new Error(response.statusText);
                        }
                        return response.json();
                    }).then((response) => {
                        //dar reload nas instituicoes
                        angular.element(document.querySelector('body')).scope().profile.reloadAllDisciplinas();
                        closeAlterar();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "INSERT", tabela: "disciplinas", idRegisto: "Automático", estadoFinal: "id: Automático, nome: " + nome.value + ", sigla: " + sigla.value, email: emailDesteAdmin });
                        atualizarLogs(log);
                        nome.value = "";
                        sigla.value = "";
                    });
                }

                function registerWorkspace() {
                    const cor = document.getElementById("corRegisterWorkspace");
                    const nome = document.getElementById("nameRegisterWorkspace");
                    body = JSON.stringify({ cor: cor.value, nome: nome.value });
                    return fetch(`${urlBase}/registarWorkspaceAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        if (!response.ok) {
                            throw new Error(response.statusText);
                        }
                        return response.json();
                    }).then((response) => {
                        //dar reload nas instituicoes
                        angular.element(document.querySelector('body')).scope().profile.reloadAllAreas();
                        closeAlterar();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "INSERT", tabela: "areas", idRegisto: "Automático", estadoFinal: "id: Automático, nome: " + nome.value + ", cor: " + cor.value, email: emailDesteAdmin });
                        atualizarLogs(log);
                        nome.value = "";
                        cor.value = "";
                    });
                }



                async function criarConta(email, user, nome, numeroDeAluno) {
                    let body = JSON.stringify({ email, user, urlBase, admin: "admin" });
                    console.log("daqui");
                    const resposta = await enviarEmail(body);
                    if (resposta == true) {
                        closeAlterar();
                        openNotification("Conta criada com sucesso!", "Account successfully created!");
                        await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin(user);
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        let log;
                        if (user == "aluno") {
                            log = JSON.stringify({ tipoDeAlteracao: "INSERT", tabela: user, idRegisto: email, estadoFinal: "email: " + email + ", nome: " + nome + ", número: " + numeroDeAluno, email: emailDesteAdmin });
                        } else {
                            log = JSON.stringify({ tipoDeAlteracao: "INSERT", tabela: user, idRegisto: email, estadoFinal: "email: " + email + ", nome: " + nome, email: emailDesteAdmin });
                        }
                        atualizarLogs(log);
                        console.log("aqui");
                    }
                }


                function openNotification(textoPt, textoEng) {
                    let texto = "";
                    if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                        texto = textoPt;
                    } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                        texto = textoEng;
                    }
                    let x = document.getElementById("notification");
                    document.getElementById("notificationText").innerText = texto;
                    x.className = "show";
                    setTimeout(function () { x.className = x.className.replace("show", ""); }, 2999);
                }


                async function enviarEmail(body) {
                    return fetch(`${urlBase}/confirmacaoDeContaEmail`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        return response.json();
                    }).then((response) => {
                        return response;
                    });
                }

                function updateTeacher(tag) {
                    const email = tag.getAttribute("email");
                    const estado = tag.getAttribute("estado");
                    const nome = tag.getAttribute("nome");
                    document.getElementById("emailOriginalAlterarTeacher").value = email;
                    document.getElementById("emailAlterarTeacher").value = email;
                    document.getElementById("estadoAlterarTeacher").value = estado;
                    document.getElementById("nameAlterarTeacher").value = nome;
                    callAlterar('alterarTeacher', 'changeAdmin');
                }

                function updateStudent(tag) {
                    const email = tag.getAttribute("email");
                    const estado = tag.getAttribute("estado");
                    const nome = tag.getAttribute("nome");
                    const numeroDeAluno = tag.getAttribute("numeroDeAluno");
                    document.getElementById("emailOriginalAlterarStudent").value = email;
                    document.getElementById("emailAlterarStudent").value = email;
                    document.getElementById("estadoAlterarStudent").value = estado;
                    document.getElementById("nameAlterarStudent").value = nome;
                    document.getElementById("studentNumberAlterarStudent").value = numeroDeAluno;
                    callAlterar('alterarStudent', 'changeAdmin');
                }

                function updateAdmin(tag) {
                    const email = tag.getAttribute("email");
                    const nome = tag.getAttribute("nome");
                    document.getElementById("emailOriginalAlterarAdmin").value = email;
                    document.getElementById("emailAlterarAdmin").value = email;
                    document.getElementById("nameAlterarAdmin").value = nome;
                    callAlterar('alterarAdminUser', 'changeAdmin');
                }


                function updateWorkspace(tag) {
                    const id = tag.getAttribute("id");
                    const nome = tag.getAttribute("nome");
                    const cor = tag.getAttribute("cor");
                    document.getElementById("idAlterarWorkSpace").value = id;
                    document.getElementById("nomeAlterarWorkSpace").value = nome;
                    document.getElementById("corAlterarWorkSpace").value = cor;
                    callAlterar('alterarWorkSpace', 'changeAdmin');
                }


                function updateDisciplina(tag) {
                    const id = tag.getAttribute("id");
                    const sigla = tag.getAttribute("sigla");
                    const nome = tag.getAttribute("nome");
                    document.getElementById("idAlterarDisciplina").value = id;
                    document.getElementById("siglaAlterarDisciplina").value = sigla;
                    document.getElementById("nomeAlterarDisciplina").value = nome;
                    callAlterar('alterarDisciplina', 'changeAdmin');
                }



                function updateInstituicao(tag) {
                    const id = tag.getAttribute("id");
                    const sigla = tag.getAttribute("sigla");
                    const nome = tag.getAttribute("nome");
                    document.getElementById("idAlterarInstituicao").value = id;
                    document.getElementById("siglaAlterarInstituicao").value = sigla;
                    document.getElementById("nomeAlterarInstituicao").value = nome;
                    callAlterar('alterarInstituicao', 'changeAdmin');
                }


                async function alterarTeacher() {
                    const email = document.getElementById("emailOriginalAlterarTeacher");
                    const emailNovo = document.getElementById("emailAlterarTeacher");
                    const estado = document.getElementById("estadoAlterarTeacher");
                    const nome = document.getElementById("nameAlterarTeacher");
                    let tipo = await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.verificarTipoDeConta(emailNovo.value);
                    if ((tipo == "false") || (email.value == emailNovo.value)) {
                        const body = JSON.stringify({ emailNovo: emailNovo.value, email: email.value, estado: estado.value, nome: nome.value });
                        return fetch(`${urlBase}/alterarTeacherAdmin`, {
                            headers: {
                                "Content-Type": "application/json",
                            },
                            method: "POST",
                            body: body,
                        }).then((response) => {
                            angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin('professores');
                            openNotification("Professor alterado com sucesso!", "Teacher successfully updated!");
                            closeAlterar();
                            document.getElementById("divErroAlterarTeacher").style.display = "none";
                            document.getElementById("mensagemDeErroAlterarTeacher").innerText = "";
                            const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                            const log = JSON.stringify({ tipoDeAlteracao: "UPDATE", tabela: "professores", idRegisto: email.value, estadoFinal: "email: " + emailNovo.value + ", estado: " + estado.value + ", nome: " + nome.value, email: emailDesteAdmin });
                            atualizarLogs(log);
                        });
                    } else {
                        document.getElementById("divErroAlterarTeacher").style.display = "block";
                        if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                            document.getElementById("mensagemDeErroAlterarTeacher").innerText = "Email já associado no E-Teacher!";
                        } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                            document.getElementById("mensagemDeErroAlterarTeacher").innerText = "Email already associated with E-Teacher!";
                        }
                    }
                }


                async function alterarStudent() {
                    const email = document.getElementById("emailOriginalAlterarStudent");
                    const emailNovo = document.getElementById("emailAlterarStudent");
                    const estado = document.getElementById("estadoAlterarStudent");
                    const nome = document.getElementById("nameAlterarStudent");
                    const numeroDeAluno = document.getElementById("studentNumberAlterarStudent");
                    let tipo = await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.verificarTipoDeConta(emailNovo.value);
                    if ((tipo == "false") || (email.value == emailNovo.value)) {
                        const body = JSON.stringify({ emailNovo: emailNovo.value, email: email.value, estado: estado.value, nome: nome.value, numeroDeAluno: numeroDeAluno.value });
                        return fetch(`${urlBase}/alterarStudentAdmin`, {
                            headers: {
                                "Content-Type": "application/json",
                            },
                            method: "POST",
                            body: body,
                        }).then((response) => {
                            angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin('alunos');
                            openNotification("Aluno alterado com sucesso!", "Student successfully updated!");
                            closeAlterar();
                            document.getElementById("divErroAlterarStudent").style.display = "none";
                            document.getElementById("mensagemDeErroAlterarStudent").innerText = "";
                            const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                            const log = JSON.stringify({ tipoDeAlteracao: "UPDATE", tabela: "alunos", idRegisto: email.value, estadoFinal: "email: " + emailNovo.value + ", estado: " + estado.value + ", nome: " + nome.value + ", número: " + numeroDeAluno.value, email: emailDesteAdmin });
                            atualizarLogs(log);
                        });
                    } else {
                        document.getElementById("divErroAlterarStudent").style.display = "block";
                        if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                            document.getElementById("mensagemDeErroAlterarStudent").innerText = "Email já associado no E-Teacher!";
                        } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                            document.getElementById("mensagemDeErroAlterarStudent").innerText = "Email already associated with E-Teacher!";
                        }
                    }
                }

                async function alterarAdmin() {
                    const email = document.getElementById("emailOriginalAlterarAdmin");
                    const emailNovo = document.getElementById("emailAlterarAdmin");
                    const nome = document.getElementById("nameAlterarAdmin");
                    let tipo = await angular.element(document.querySelector('controllerUsers')).scope().searchUsers.verificarTipoDeConta(emailNovo.value);
                    if ((tipo == "false") || (email.value == emailNovo.value)) {
                        const body = JSON.stringify({ emailNovo: emailNovo.value, email: email.value, nome: nome.value });
                        return fetch(`${urlBase}/alterarAdminAdmin`, {
                            headers: {
                                "Content-Type": "application/json",
                            },
                            method: "POST",
                            body: body,
                        }).then((response) => {
                            if (angular.element(document.querySelector('html')).scope().profile.originalEmail == email.value) {
                                angular.element(document.querySelector('html')).scope().profile.originalEmail = emailNovo.value;
                                //atualizar a token
                                atualizarToken(emailNovo.value);
                            }
                            angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin('admin');
                            openNotification("Admin alterado com sucesso!", "Admin successfully updated!");
                            closeAlterar();
                            document.getElementById("divErroAlterarAdmin").style.display = "none";
                            document.getElementById("mensagemDeErroAlterarAdmin").innerText = "";
                            const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                            const log = JSON.stringify({ tipoDeAlteracao: "UPDATE", tabela: "admin", idRegisto: email.value, estadoFinal: "email: " + emailNovo.value + ", nome: " + nome.value, email: emailDesteAdmin });
                            atualizarLogs(log);

                        });
                    } else {
                        document.getElementById("divErroAlterarAdmin").style.display = "block";
                        if (sessionStorage.getItem("E-Teacher Idioma") === "pt") {
                            document.getElementById("mensagemDeErroAlterarAdmin").innerText = "Email já associado no E-Teacher!";
                        } else if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                            document.getElementById("mensagemDeErroAlterarAdmin").innerText = "Email already associated with E-Teacher!";
                        }
                    }
                }


                function atualizarToken(emailNovo) {
                    const body = JSON.stringify({ emailNovo: emailNovo });
                    fetch(`${urlBase}/atualizarTokenAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        return response.json();
                    }).then((response) => {
                        const token = response.token;
                        const hashedToken = response.hashedToken;
                        const tipo = response.tipo;
                        sessionStorage.setItem('E-Teacher User Token', token);
                        sessionStorage.setItem('E-Teacher User hashedToken', hashedToken);
                        sessionStorage.setItem('E-Teacher User Email', emailNovo);
                        sessionStorage.setItem('E-Teacher User Tipo', tipo);
                    });
                }

                async function alterarInstituicao() {
                    const id = document.getElementById("idAlterarInstituicao");
                    const sigla = document.getElementById("siglaAlterarInstituicao");
                    const nome = document.getElementById("nomeAlterarInstituicao");
                    const body = JSON.stringify({ id: id.value, sigla: sigla.value, nome: nome.value });
                    return fetch(`${urlBase}/alterarInstituicaoAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        angular.element(document.querySelector('body')).scope().profile.reloadAllInstituicoes();
                        openNotification("Instituição alterada com sucesso!", "Institution successfully updated!");
                        closeAlterar();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "UPDATE", tabela: "instituicao", idRegisto: id.value, estadoFinal: "id: " + id.value + ", sigla: " + sigla.value + ", nome: " + nome.value, email: emailDesteAdmin });
                        atualizarLogs(log);
                    });
                }

                async function alterarDisciplina() {
                    const id = document.getElementById("idAlterarDisciplina");
                    const sigla = document.getElementById("siglaAlterarDisciplina");
                    const nome = document.getElementById("nomeAlterarDisciplina");
                    const body = JSON.stringify({ id: id.value, sigla: sigla.value, nome: nome.value });
                    return fetch(`${urlBase}/alterarDisciplinaAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        angular.element(document.querySelector('body')).scope().profile.reloadAllDisciplinas();
                        openNotification("Disciplina alterada com sucesso!", "Subject successfully updated!");
                        closeAlterar();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "UPDATE", tabela: "disciplinas", idRegisto: id.value, estadoFinal: "id: " + id.value + ", sigla: " + sigla.value + ", nome: " + nome.value, email: emailDesteAdmin });
                        atualizarLogs(log);
                    });
                }


                async function alterarWorkspace() {
                    const id = document.getElementById("idAlterarWorkSpace");
                    const cor = document.getElementById("corAlterarWorkSpace");
                    const nome = document.getElementById("nomeAlterarWorkSpace");
                    const body = JSON.stringify({ id: id.value, cor: cor.value, nome: nome.value });
                    return fetch(`${urlBase}/alterarWorkspaceAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        angular.element(document.querySelector('body')).scope().profile.reloadAllAreas();
                        openNotification("Disciplina alterada com sucesso!", "Subject successfully updated!");
                        closeAlterar();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "UPDATE", tabela: "areas", idRegisto: id.value, estadoFinal: "id: " + id.value + ", nome: " + nome.value + ", cor: " + cor.value, email: emailDesteAdmin });
                        atualizarLogs(log);
                    });
                }

                function emailDeRecuperacaoTeacher() {
                    const email = document.getElementById("emailOriginalAlterarTeacher");
                    const tipo = "professores";
                    const body = JSON.stringify({ email: email.value, tipo: tipo });
                    //arranjar password
                    return fetch(`${urlBase}/getPasswordUser`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        return response.json();
                    }).then((response) => {
                        const password = response.response.password;
                        //prosseguir
                        //enviar o email
                        const Mensagem = 'Parece que pediu uma alteração de palavra-passe!<br><br>Clique neste link para para a <a href = "' + window.location.origin + '?email=' + email.value + '&callChangePassword=true&encriptedPassword=' + password + '" >alterar</a>!<br><br>Caso não tenha pedido a alteração da sua palavra-passe simplesmente ignore este email.<br><br>Obrigado,<br><br>E-Teacher<br><br><hr><br><br>Looks like you asked for a password update!<br><br>Click on this link to <a href = "' + window.location.origin + '?email=' + email.value + '&callChangePassword=true&encriptedPassword=' + password + '" >change it</a>!<br><br>If you have not requested to change your password, simply ignore this email.<br><br>Thanks,<br><br>E-Teacher';
                        const Subject = "Alteração de palavra passe";
                        enviarEmailGeral(email.value, Mensagem, Subject);
                        openNotification("Email de recuperação enviado!", "Recovery email sent!");

                    });
                }


                function emailDeRecuperacaoStudent() {
                    const email = document.getElementById("emailOriginalAlterarStudent");
                    const tipo = "alunos";
                    const body = JSON.stringify({ email: email.value, tipo: tipo });
                    //arranjar password
                    return fetch(`${urlBase}/getPasswordUser`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        return response.json();
                    }).then((response) => {
                        const password = response.response.password;
                        //prosseguir
                        //enviar o email
                        const Mensagem = 'Parece que pediu uma alteração de palavra-passe!<br><br>Clique neste link para para a <a href = "' + window.location.origin + '?email=' + email.value + '&callChangePassword=true&encriptedPassword=' + password + '" >alterar</a>!<br><br>Caso não tenha pedido a alteração da sua palavra-passe simplesmente ignore este email.<br><br>Obrigado,<br><br>E-Teacher<br><br><hr><br><br>Looks like you asked for a password update!<br><br>Click on this link to <a href = "' + window.location.origin + '?email=' + email.value + '&callChangePassword=true&encriptedPassword=' + password + '" >change it</a>!<br><br>If you have not requested to change your password, simply ignore this email.<br><br>Thanks,<br><br>E-Teacher';
                        const Subject = "Alteração de palavra passe";
                        enviarEmailGeral(email.value, Mensagem, Subject);
                        openNotification("Email de recuperação enviado!", "Recovery email sent!");

                    });
                }


                function emailDeRecuperacaoAdmin() {
                    const email = document.getElementById("emailOriginalAlterarAdmin");
                    const tipo = "admin";
                    const body = JSON.stringify({ email: email.value, tipo: tipo });
                    //arranjar password
                    return fetch(`${urlBase}/getPasswordUser`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        return response.json();
                    }).then((response) => {
                        const password = response.response.password;
                        //prosseguir
                        //enviar o email
                        const Mensagem = 'Parece que pediu uma alteração de palavra-passe!<br><br>Clique neste link para para a <a href = "' + window.location.origin + '?email=' + email.value + '&callChangePassword=true&encriptedPassword=' + password + '" >alterar</a>!<br><br>Caso não tenha pedido a alteração da sua palavra-passe simplesmente ignore este email.<br><br>Obrigado,<br><br>E-Teacher<br><br><hr><br><br>Looks like you asked for a password update!<br><br>Click on this link to <a href = "' + window.location.origin + '?email=' + email.value + '&callChangePassword=true&encriptedPassword=' + password + '" >change it</a>!<br><br>If you have not requested to change your password, simply ignore this email.<br><br>Thanks,<br><br>E-Teacher';
                        const Subject = "Alteração de palavra passe";
                        enviarEmailGeral(email.value, Mensagem, Subject);
                        openNotification("Email de recuperação enviado!", "Recovery email sent!");

                    });
                }

                function confirmApagarTeacherOpen(tag) {
                    const email = tag.value;
                    document.getElementById("removeTeacher").value = email;
                    callAlterar('confirmApagarTeacher', 'changeAdmin');
                }

                function confirmApagarStudentOpen(tag) {
                    const email = tag.value;
                    document.getElementById("removeStudent").value = email;
                    callAlterar('confirmApagarStudent', 'changeAdmin');
                }

                function confirmApagarAdminOpen(tag) {
                    const email = tag.value;
                    document.getElementById("removeAdmin").value = email;
                    callAlterar('confirmApagarAdmin', 'changeAdmin');
                }

                function confirmApagarInstituicaoOpen(tag) {
                    const id = tag.value;
                    document.getElementById("removeInstituicao").value = id;
                    callAlterar('confirmApagarInstituicao', 'changeAdmin');
                }


                function confirmApagarDisciplinaOpen(tag) {
                    const id = tag.value;
                    document.getElementById("removeDisciplina").value = id;
                    callAlterar('confirmApagarDisciplina', 'changeAdmin');
                }


                function confirmApagarWorkspaceOpen(tag) {
                    const id = tag.value;
                    document.getElementById("removeWorkspace").value = id;
                    callAlterar('confirmApagarWorkspace', 'changeAdmin');
                }




                function eliminarTeacher(tag) {
                    const email = tag.value;
                    const body = JSON.stringify({ email });
                    return fetch(`${urlBase}/eliminarProfessorAdmin`, {
                        headers: {
                            "Content-Type": "application/json"
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        openNotification("Professor removido com sucesso!", "Teacher successfully removed!");
                        closeAlterar();
                        angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin('professores');
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "DELETE", tabela: "professores", idRegisto: email, estadoFinal: "Deleted", email: emailDesteAdmin });
                        atualizarLogs(log);
                    });
                }

                function eliminarStudent(tag) {
                    const email = tag.value;
                    const body = JSON.stringify({ email });
                    return fetch(`${urlBase}/eliminarAlunoAdmin`, {
                        headers: {
                            "Content-Type": "application/json"
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        openNotification("Aluno removido com sucesso!", "Student successfully removed!");
                        closeAlterar();
                        angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin('alunos');
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "DELETE", tabela: "alunos", idRegisto: email, estadoFinal: "Deleted", email: emailDesteAdmin });
                        atualizarLogs(log);
                    });
                }

                function eliminarAdmin(tag) {
                    const email = tag.value;
                    const body = JSON.stringify({ email });
                    return fetch(`${urlBase}/eliminarAdminAdmin`, {
                        headers: {
                            "Content-Type": "application/json"
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "DELETE", tabela: "admin", idRegisto: email, estadoFinal: "Deleted", email: emailDesteAdmin });
                        atualizarLogs(log);
                        if (sessionStorage.getItem("E-Teacher User Email") == email) {
                            logout();
                        }
                        openNotification("Professor removido com sucesso!", "Teacher successfully removed!");
                        closeAlterar();
                        angular.element(document.querySelector('controllerUsers')).scope().searchUsers.reloadAdmin('admin');
                    });
                }


                function eliminarInstituicao(tag) {
                    const id = parseInt(tag.value);
                    const body = JSON.stringify({ id });
                    return fetch(`${urlBase}/eliminarInstituicaoAdmin`, {
                        headers: {
                            "Content-Type": "application/json"
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        openNotification("Instituição removida com sucesso!", "Institution successfully removed!");
                        closeAlterar();
                        angular.element(document.querySelector('body')).scope().profile.reloadAllInstituicoes();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "DELETE", tabela: "instituicao", idRegisto: id.toString(), estadoFinal: "Deleted", email: emailDesteAdmin });
                        atualizarLogs(log);
                    });
                }


                function eliminarDisciplina(tag) {
                    const id = parseInt(tag.value);
                    const body = JSON.stringify({ id });
                    return fetch(`${urlBase}/eliminarDisciplinaAdmin`, {
                        headers: {
                            "Content-Type": "application/json"
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        openNotification("Disciplina removida com sucesso!", "Subject successfully removed!");
                        closeAlterar();
                        angular.element(document.querySelector('body')).scope().profile.reloadAllDisciplinas();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "DELETE", tabela: "disciplinas", idRegisto: id.toString(), estadoFinal: "Deleted", email: emailDesteAdmin });
                        atualizarLogs(log);
                    });

                }



                function eliminarWorkspace(tag) {
                    const id = parseInt(tag.value);
                    const body = JSON.stringify({ id });
                    return fetch(`${urlBase}/eliminarWorkspaceAdmin`, {
                        headers: {
                            "Content-Type": "application/json"
                        },
                        method: "POST",
                        body: body
                    }).then((response) => {
                        openNotification("Área de trabalho removida com sucesso!", "Workspace successfully removed!");
                        closeAlterar();
                        angular.element(document.querySelector('body')).scope().profile.reloadAllAreas();
                        const emailDesteAdmin = angular.element(document.querySelector('html')).scope().profile.originalEmail;
                        const log = JSON.stringify({ tipoDeAlteracao: "DELETE", tabela: "areas", idRegisto: id.toString(), estadoFinal: "Deleted", email: emailDesteAdmin });
                        atualizarLogs(log);
                    });

                }

                function openNewTab(link) {
                    window.open(link);
                }

                function openInfoOrientacoes(tag) {
                    const tr = document.getElementById("orientacoesMostrarTR" + tag.getAttribute("orientacoesId"));
                    const title = tr.getAttribute("title");
                    const nomeCurso = tr.getAttribute("nomeCurso");
                    const tema = tr.getAttribute("tema");
                    const relatorio = tr.getAttribute("relatorio");
                    const link = tr.getAttribute("link");
                    const student = tr.getAttribute("student");
                    const dataInicio = tr.getAttribute("dataInicio");
                    const dataFim = tr.getAttribute("dataFim");
                    const institution = tr.getAttribute("institution");
                    document.getElementById("infoOrientationTitle").innerText = title;
                    document.getElementById("infoOrientationStudent").innerText = student;
                    document.getElementById("infoOrientationDuration").innerText = dataInicio + " - " + dataFim;
                    document.getElementById("infoOrientationInstitution").innerText = institution;
                    document.getElementById("infoOrientationCourseName").innerText = nomeCurso;
                    document.getElementById("infoOrientationTheme").innerText = tema;
                    document.getElementById("infoOrientationReport").href = relatorio;
                    document.getElementById("infoOrientationLink").href = link;
                    callInfo('infoOrientacao', 'infoProfile');
                }


                function openInfoLog(tag) {
                    const tr = document.getElementById("logsAdminMostrarTR" + tag.getAttribute("idLog"));
                    const admin = tr.getAttribute("admin");
                    const updateType = tr.getAttribute("updateType");
                    const table = tr.getAttribute("table");
                    const recordUpdated = tr.getAttribute("recordUpdated");
                    const recordFinalState = tr.getAttribute("recordFinalState");
                    const data = tr.getAttribute("data");
                    document.getElementById("infoLogAdmin").innerText = admin;
                    document.getElementById("infoLogUpdateType").innerText = updateType;
                    document.getElementById("infoLogTable").innerText = table;
                    document.getElementById("infoLogRecordUpdated").innerText = recordUpdated;
                    document.getElementById("infoLogRecordFinalState").innerText = recordFinalState;
                    document.getElementById("infoLogData").innerText = data;
                    callAlterar('infoLog', 'changeAdmin');
                }

                function callInfo(idParaMostrar, classParaEsconder) {
                    document.getElementById("infoProfile").style.display = "block";
                    openLink(idParaMostrar, classParaEsconder);
                }



                function closeInfo() {
                    document.getElementById('infoProfile').style.display = 'none';
                }


                function mandarSearchParaCima() {
                    if (document.getElementById("searchBarInput").value.length >= 3) {
                        mandadoParaCima = true;
                        document.getElementById("searchBar").className = 'mandarParaCima';
                        document.getElementById("searchBar").style = 'width: 100%; animation-name: mandarParaCima; animation-duration: 0.5s;';
                        //aparecer os perfis
                        document.getElementById("resultDoSearch").style.display = "block";
                    }
                }
                function mandarSearchParaBaixo() {
                    const searchBar = document.getElementById("searchBarInput").value;
                    if (searchBar.length <= 2 && mandadoParaCima) {
                        document.getElementById("searchBar").className = 'mandarParaBaixo';
                        document.getElementById("searchBar").style = 'width: 100%; animation-name: mandarParaBaixo; animation-duration: 0.5s;';
                        document.getElementById("resultDoSearch").style.display = "none";
                    }

                }

                function searchProfessor(emailDoProfessorAProcurar) {
                    sessionStorage.setItem("E-Teacher Page", "callPerfil");
                    openLink("profilePage", "mainPage");
                    document.body.style.backgroundColor = "#f5f5f5";
                }


                function focusSearchBar() {
                    document.getElementById("searchBarInput").style = "width:40%; min-width: 160px;transition: width 0.5s;";
                    document.getElementById("searchButton").style.display = "block";
                }

                function openLink(linkToOpen, className) {
                    let i;
                    const x = document.getElementsByClassName(className);
                    for (i = 0; i < x.length; i++) {
                        x[i].style.display = "none";
                    }
                    document.getElementById(linkToOpen).style.display = "block";
                }

                function openNavBar(navToOpen, className) {
                    let i;
                    const x = document.getElementsByClassName(className);
                    for (i = 0; i < x.length; i++) {
                        x[i].classList.remove("active");
                    }
                    document.getElementById(navToOpen).classList.add("active");
                }


                function updateNavBar(aux) {
                    const navLink = document.getElementsByClassName('navBarETeacher');
                    let i = 0;
                    const callPage = sessionStorage.getItem("E-Teacher Page");
                    while (navLink[i] !== undefined) {
                        navLink[i].classList.remove("active");
                        i = i + 1;
                    }
                    if (aux === "in") {
                        document.getElementById("callLogin").classList.add("active");
                    } else if (aux === "out") {
                        document.getElementById(callPage).classList.add("active");
                    }

                }

                function changeLanguage(lingua) {
                    sessionStorage.setItem('E-Teacher Idioma', lingua);
                    window.location.reload();
                }


                if (sessionStorage.getItem('E-Teacher Idioma') === "pt") {
                    document.getElementById("imagemFlagIdioma").setAttribute("src", "./img/flags/portugal.png");
                } else if (sessionStorage.getItem('E-Teacher Idioma') === "en") {
                    document.getElementById("imagemFlagIdioma").setAttribute("src", "./img/flags/reino-unido.png");
                }
                if (sessionStorage.getItem("E-Teacher Idioma") === "en") {
                    openNavBar('escolherEn', 'escolherLingua');
                }
                //change language
                if (sessionStorage.getItem('E-Teacher Idioma') === 'pt') {

                    const traduzir = document.getElementsByClassName("traduzir");
                    i = 0;
                    while (traduzir[i] != undefined) {
                        const pt = traduzir[i].getAttribute("pt");
                        traduzir[i].innerText = pt;
                        i++;
                    }


                    const traduzirTitle = document.getElementsByClassName("traduzirTitle");
                    i = 0;
                    while (traduzirTitle[i] != undefined) {
                        traduzirTitle[i].title = "Deve conter pelo menos um número e uma letra maiúscula e minúscula e pelo menos 8 ou mais caracteres.";
                        i++;
                    }
                }


                function enviarEmailGeral(Para, Mensagem, Subject) {
                    const body = JSON.stringify({ Subject, Para, Mensagem, urlBase });
                    return fetch(`${urlBase}/enviarEmailGeral`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: body,
                    }).then((response) => {
                        return response.json();
                    }).then((response) => {
                        return response;
                    });
                }


                function atualizarLogs(log) {
                    return fetch(`${urlBase}/adicionarLogNoAdmin`, {
                        headers: {
                            "Content-Type": "application/json",
                        },
                        method: "POST",
                        body: log,
                    }).then((response) => {
                        angular.element(document.querySelector('html')).scope().profile.reloadAllLogs();
                    });
                }

            </script>

        </body>

    </controllerUsers>
</controllerTrabalho>

</html>